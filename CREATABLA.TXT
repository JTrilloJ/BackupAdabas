''DOMINIOS
''CREATE DOMAIN CODIGO CHAR(10) NOT NULL
''CREATE DOMAIN NOMBRE CHAR(50) DEFAULT ""
''CREATE DOMAIN PER100 FIXED(5,2) CONSTRAINT PER100 BETWEEN 0 AND 100
''CREATE DOMAIN MONEDA FIXED(14,3) DEFAULT 0


''TABLA NOTAS
''Estructura
CREATE TABLE NOTAS 
		(ID INTEGER,
		TEXTO CHAR(250),
		EDITABLE BOOLEAN,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA NOTAS

''TABLA PATHFOTOS
''Estructura
CREATE TABLE PATHFOTOS 
		(ID INTEGER,
		PATH CHAR(50),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA NOTAS


''TABLA ACTIVIDADES
''Estructura
CREATE TABLE ACTIVIDADES 
		(ID INTEGER,
		NOMBRE NOMBRE,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA ACTIVIDADES

''TABLA TIPOIVA
''Estructura
CREATE TABLE TIPOIVA 
		(ID INTEGER,
		CODIGO CHAR(6) UNIQUE NOT NULL,
		IVA PER100,
		RECARGO PER100,
		DESCRIPCION NOMBRE,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA TIPOIVA

''TABLA EMPRESA
''Estructura
CREATE TABLE EMPRESA 
		(ID INTEGER,
		RAZON CHAR(50),
		NIF CHAR(9),
		DIRECCION NOMBRE,
		CP CHAR(5),
		TELEFONO CHAR(9),
		TELAUX CHAR(9),
		FAX CHAR(9),
		EMAIL CHAR(50),
		URL CHAR(50),
		REGMERCANTIL CHAR(200),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA EMPRESA

''TABLA DIVISAS
''Estructura
CREATE TABLE DIVISAS 
		(ID INTEGER,
		CODIGO CHAR(3) UNIQUE NOT NULL,
		NOMBRE NOMBRE UNIQUE NOT NULL,
		VALORREFERENCIA FIXED(8,3) DEFAULT 0,
		SIMBOLO CHAR(6) NOT NULL,
		DECIMALES FIXED(1) DEFAULT 0,
		FECHAACT TIMESTAMP DEFAULT TIMESTAMP,
		CONSTRAINT DECIMALES BETWEEN 0 AND 9,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA DIVISAS

''DIVISA DEFECTO DE SISTEMA
INSERT INTO DIVISAS (ID,CODIGO,NOMBRE,VALORREFERENCIA,SIMBOLO,DECIMALES) VALUES(0,'EUR','Euro',1,' ',2)
INSERT INTO DIVISAS (ID,CODIGO,NOMBRE,VALORREFERENCIA,SIMBOLO,DECIMALES) VALUES(1,'PTA','Pesetas',166.386,'Ptas.',0)

''TABLA TIPOCONDICIONPAGO
''Estructura
CREATE TABLE TIPOCONDICIONPAGO 
		(ID INTEGER,
		NOMBRE NOMBRE UNIQUE NOT NULL,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA TIPOCONDICIONPAGO

''TABLA CONDICIONESPAGO
''Estructura
CREATE TABLE CONDICIONESPAGO 
		(ID INTEGER,
		CODIGO CHAR(6) UNIQUE NOT NULL,
		NOMBRE NOMBRE NOT NULL,
		TIPO INTEGER,
		TIPOVEN INTEGER DEFAULT 1,
		MARGENVEN INTEGER DEFAULT 0,
		TIPOMARGENVEN INTEGER DEFAULT 1,
		IMPORTEFIJO FIXED(18,6) DEFAULT 0.000000,
		PERSONAL BOOLEAN DEFAULT FALSE,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE CONDICIONESPAGO ADD FOREIGN KEY CONDTIPO (TIPO) REFERENCES TIPOCONDICIONPAGO(ID) ON DELETE RESTRICT
''FIN DE LA TABLA CONDICIONESPAGO

''FORMA PAGO DEFECTO DE SISTEMA
INSERT INTO CONDICIONESPAGO (ID,CODIGO,NOMBRE) VALUES(0,'CO','Contado')

''TABLA ALBARANCLI
''Estructura
CREATE TABLE ALBARANCLI 
		(ID INTEGER,
		IDALMACEN CHAR(15),
		DIVISA INTEGER DEFAULT 0,
		VALORDIVISA FLOAT(16),
		FECHA DATE,
		BULTOS FLOAT(16),
		IVA INTEGER,
		DESCUENTO FLOAT(16),
		NOTA INTEGER,
		ESTADO INTEGER DEFAULT 0,
		TOTAL MONEDA,
		EMPRESA INTEGER DEFAULT 1,
		MPAGO CHAR(5),
		RECARGOFIN FLOAT(16),
		RECARGOPORTES FLOAT(16),
		DTOPPAGO FLOAT(16),
		DTOCOMERCIAL FLOAT(16),
		DISTRIBUIRPORTES BOOLEAN,
		DISTRIBUIRCARGOS BOOLEAN,
		REVISION INTEGER,
		IDPEDIDO INTEGER,
		VALORADO BOOLEAN,
		SERVICIOTRANSPORTE INTEGER,
		IDCLIENTE INTEGER,
		UBICACION INTEGER DEFAULT 0,
		FPAGO INTEGER DEFAULT 0,
		EMITIDO BOOLEAN,
		TRANSPORTISTA INTEGER DEFAULT 0,
		FECHAMODI TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOMODI CHAR(18) DEFAULT USER,
		FECHACREA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOCREA CHAR(18) DEFAULT USER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE ALBARANCLI ADD FOREIGN KEY ALBCLIFPAGO (FPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
ALTER TABLE ALBARANCLI ADD FOREIGN KEY ALBCLIDIV (DIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
ALTER TABLE ALBARANCLI ADD FOREIGN KEY ALBCLIEMPR (EMPRESA) REFERENCES EMPRESA(ID) ON DELETE CASCADE
ALTER TABLE ALBARANCLI ADD FOREIGN KEY ALBCLITIVA (IVA) REFERENCES TIPOIVA(ID) ON DELETE RESTRICT
ALTER TABLE ALBARANCLI ADD FOREIGN KEY ALBCLINOTAS (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL
''FIN DE LA TABLA ALBARANCLI

''TABLA ALBARANPRO
''Estructura
CREATE TABLE ALBARANPRO 
		(ID INTEGER,
		ALMACEN CHAR(15),
		FPAGO INTEGER DEFAULT 0,
		DIVISA INTEGER DEFAULT 0,
		VALORDIVISA FLOAT(16),
		FECHA DATE,
		BULTOS FLOAT(16),
		IVA INTEGER,
		DESCUENTO FLOAT(16),
		NOTA INTEGER,
		ESTADO INTEGER DEFAULT 0,
		TOTAL MONEDA,
		EMPRESA INTEGER DEFAULT 1,
		RECARGOFIN FLOAT(16),
		RECARGOPORTES FLOAT(16),
		DTOPPAGO FLOAT(16),
		DTOCOMERCIAL FLOAT(16),
		DISTRIBUIRPORTES BOOLEAN,
		DISTRIBUIRCARGOS BOOLEAN,
		REVISION INTEGER,
		VALORADO BOOLEAN,
		SERVICIOTRANSPORTE INTEGER,
		PROV INTEGER,
		TIPO INTEGER,
		IDUBICACION INTEGER DEFAULT 0,
		CODIGO CHAR(15),
		TRANSPORTISTA INTEGER,
		PEDIDO INTEGER,
		EMITIDO BOOLEAN,
		FECHAMODI TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOMODI CHAR(18) DEFAULT USER,
		FECHACREA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOCREA CHAR(18) DEFAULT USER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE ALBARANPRO ADD FOREIGN KEY ALBPROFPAGO (FPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
ALTER TABLE ALBARANPRO ADD FOREIGN KEY ALBPRODIV (DIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
ALTER TABLE ALBARANPRO ADD FOREIGN KEY ALBPROEMPR (EMPRESA) REFERENCES EMPRESA(ID) ON DELETE CASCADE
ALTER TABLE ALBARANPRO ADD FOREIGN KEY ALBPROTIVA (IVA) REFERENCES TIPOIVA(ID) ON DELETE RESTRICT
ALTER TABLE ALBARANPRO ADD FOREIGN KEY ALBPRONOTAS (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL
''FIN DE LA TABLA ALBARANPRO

''TABLA ANULACIONES
''Estructura
CREATE TABLE ANULACIONES 
		(ID INTEGER,
		DOCUMENTO INTEGER,
		USUARIO INTEGER,
		CONTACTO INTEGER,
		FECHA DATE,
		MOTIVO INTEGER,
		TIPODOC INTEGER,
		EMPRESA INTEGER DEFAULT 1,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA ANULACIONES

''TABLA TIPOUBICACIONES
''Estructura
CREATE TABLE TIPOUBICACIONES
		(ID CHAR(2) UNIQUE,
		NOMBRE NOMBRE,
		OCULTO BOOLEAN DEFAULT FALSE,
		CONTABLE BOOLEAN DEFAULT TRUE,
		NOACTUALIZA BOOLEAN DEFAULT FALSE)
''FIN DE LA TABLA TIPOUBICACIONES
''DATOS DE LA TABLA TIPOUBICACIONES
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('DP','Desperdicio',FALSE,TRUE,FALSE)
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('IN','Incorporado',TRUE,FALSE,FALSE)
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('MP','Materias Primas',FALSE,TRUE,FALSE)
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('NO','Normal',FALSE,TRUE,FALSE)
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('PR','Producci√≥n',FALSE,TRUE,FALSE)
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('PT','Productos Acabados',FALSE,TRUE,FALSE)
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('RE','Reutilizados',FALSE,TRUE,FALSE)
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('RP','Reproceso',FALSE,TRUE,FALSE)
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('SE','Semielaborados',FALSE,TRUE,FALSE)
INSERT INTO TIPOUBICACIONES (ID,NOMBRE,OCULTO,CONTABLE,NOACTUALIZA) VALUES('SY','Sistema',TRUE,FALSE,TRUE)
''FIN ENTRADA DE DATOS TIPOUBICACIONES

''TABLA PLANTAS
''Estructura
CREATE TABLE PLANTAS
		(ID INTEGER PRIMARY KEY,
		CODIGO CODIGO UNIQUE NOT NULL,
		NOMBRE NOMBRE,
		NOTA INTEGER)
''FIN DE LA TABLA PLANTAS

''TABLA ALMACENES
''Estructura
CREATE TABLE ALMACENES 
		(PLANTA INTEGER,
		ID INTEGER,
		CODIGO CODIGO NOT NULL,
		NOMBRE NOMBRE,
		NOTA INTEGER,
		PRIMARY KEY(PLANTA,ID))
''Claves Foraneas
ALTER TABLE ALMACENES ADD FOREIGN KEY ALMPLANTA (PLANTA) REFERENCES PLANTAS(ID) ON DELETE RESTRICT
ALTER TABLE ALMACENES ADD FOREIGN KEY ALMNOTAS (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL
''FIN DE LA TABLA ALMACENES

CREATE UNIQUE INDEX IALM1 ON ALMACENES (CODIGO,PLANTA)

'''Almac n de sistema
'INSERT INTO ALMACENES VALUES(0,'ALMSIS','Almac n de Sistema',NULL)

''TABLA UBICACIONES
''Estructura
CREATE TABLE UBICACIONES 
		(PLANTA INTEGER,
		ALMACEN INTEGER,
		ID INTEGER,
		CODIGO CODIGO NOT NULL,
		NOMBRE NOMBRE,
		NOTA INTEGER,
		PRIMARY KEY(PLANTA,ALMACEN,ID))
''Claves Foraneas
ALTER TABLE UBICACIONES ADD FOREIGN KEY UBIALM (PLANTA,ALMACEN) REFERENCES ALMACENES (PLANTA,ID) ON DELETE RESTRICT
ALTER TABLE UBICACIONES ADD FOREIGN KEY UBINOTA (NOTA) REFERENCES NOTAS (ID) ON DELETE SET NULL

''Indices
CREATE UNIQUE INDEX IUBI1 ON UBICACIONES (CODIGO,PLANTA,ALMACEN)
''FIN DE LA TABLA UBICACIONES

''Creacion de una Planta de Prueba
INSERT INTO PLANTAS VALUES(0,'PRU','Planta de Prueba')
INSERT INTO ALMACENES VALUES(0,0,'ALMSIS','Almacen de Sistema',NULL)
INSERT INTO ALMACENES VALUES(0,1,'ALM1','Almacen 1',NULL)
INSERT INTO UBICACIONES VALUES(0,0,1,'RET','Retenidos',NULL)
INSERT INTO UBICACIONES VALUES(0,0,2,'RECH','Rechazados',NULL)
INSERT INTO UBICACIONES VALUES(0,0,3,'DEV','Devoluciones',NULL)
INSERT INTO UBICACIONES VALUES(0,1,-2,'PROD','Produccion',NULL)
INSERT INTO UBICACIONES VALUES(0,1,-1,'INC','Incorporados',NULL)
INSERT INTO UBICACIONES VALUES(0,1,1,'GEN','General',NULL)
INSERT INTO UBICACIONES VALUES(0,1,2,'UBI2','Otra ubicaci n',NULL)

''TABLA ARTFAMILIAS
''Estructura
CREATE TABLE ARTFAMILIAS
		(ID INTEGER,
		CODIGO CHAR(6) NOT NULL,
		NOMBRE NOMBRE NOT NULL,
		TIPO CHAR(4) NOT NULL,
		SUBCUENTA CHAR(12),
		PRIMARY KEY(ID))
''Indices
CREATE UNIQUE INDEX IARTFAM1 ON ARTFAMILIAS (CODIGO,TIPO)
''FIN DE LA TABLA ARTFAMILIAS

''TABLA TIPOLINEA
''Estructura
CREATE TABLE TIPOLINEAS 
		(ID INTEGER,
		CODIGO CHAR(6) UNIQUE NOT NULL,
		NOMBRE CHAR(25),
		NOMBRERANGO CHAR(25) DEFAULT "",
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA TIPOLINEA
INSERT INTO TIPOLINEAS (ID,CODIGO,NOMBRE,NOMBRERANGO) VALUES(0,'GEN','General','')	
INSERT INTO TIPOLINEAS(ID,CODIGO,NOMBRE,NOMBRERANGO) VALUES(1,'IND','Industrial','Capacidad')
''TABLA DETTIPOLINEAS
''Estructura
CREATE TABLE DETTIPOLINEAS
		(ID INTEGER,
		NOMBRE NOMBRE,
		VALORDEFECTO CHAR(200) DEFAULT '0',
		PRIMARY KEY(ID,NOMBRE))
''Claves Foraneas
ALTER TABLE DETTIPOLINEAS ADD FOREIGN KEY DETTIPOLINEASTIPO (ID) REFERENCES TIPOLINEAS(ID) ON DELETE CASCADE
''FIN DE LA TABLA DETTIPOLINEAS

''TABLA LINEA
''LINEA DE SISTEMA

''Estructura
CREATE TABLE LINEAS 
		(ID INTEGER,
		CGP FIXED(10,2),
		CGC FIXED(10,2),
		CGE FIXED(10,2),
		VAST FIXED(10,2),
		VAMIN FIXED(10,2),
		DESCMAX FIXED(10,2),
		TIPOLINEA INTEGER,
		GARANTIA FIXED(10,2),
		BBMIN FIXED(10,2),
		GLANZ MONEDA,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE LINEAS ADD FOREIGN KEY LINEATIPO (TIPOLINEA) REFERENCES TIPOLINEAS(ID) ON DELETE RESTRICT
ALTER TABLE LINEAS ADD FOREIGN KEY LINEAARTFAM (ID) REFERENCES ARTFAMILIAS (ID) ON DELETE CASCADE
''Valor de Sistema
INSERT INTO ARTFAMILIAS(ID,CODIGO,NOMBRE,TIPO) VALUES(-1,'GEN','General','PPAA')
INSERT INTO LINEAS (ID,TIPOLINEA) VALUES(-1,NULL)
''FIN DE LA TABLA LINEA

''TABLA MPCRITINSP
''Estructura
CREATE TABLE MPCRITINSP 
		(ID INTEGER,
		NOMBRE CHAR(25),
		NOTAS CHAR(200),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA MPCRITINSP

''TABLA MPCRITFAM
''Estructura
CREATE TABLE MPCRITFAM 
		(ARTFAMILIA INTEGER,
		CRITERIO INTEGER,
		RESPONSABLE CHAR(25),
		PRIMARY KEY(ARTFAMILIA,CRITERIO))
''Claves Foraneas
ALTER TABLE MPCRITFAM ADD FOREIGN KEY MPCRITFAM (ARTFAMILIA) REFERENCES ARTFAMILIAS(ID) ON DELETE CASCADE
ALTER TABLE MPCRITFAM ADD FOREIGN KEY MPCRITCRIT (CRITERIO) REFERENCES MPCRITINSP(ID) ON DELETE CASCADE
''FIN DE LA TABLA MPCRITFAM

''TABLA SEFAMILIA
''Estructura
CREATE TABLE SEFAMILIAS 
		(ID INTEGER,
		CGP FIXED(10,2),
		CGC FIXED(10,2),
		CGE FIXED(10,2),
		VAST FIXED(10,2),
		VAMIN FIXED(10,2),
		DESCMAX FIXED(10,2),
		GARANTIA FIXED(10,2),
		BBMIN FIXED(10,2),
		GLANZ MONEDA,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE SEFAMILIAS ADD FOREIGN KEY SEFAMARTFAM (ID) REFERENCES ARTFAMILIAS(ID) ON DELETE CASCADE
''FIN DE LA TABLA SEFAMILIA

''TABLA ARTSUBFAMILIAS
''Estructura
CREATE TABLE ARTSUBFAMILIAS
		(ID INTEGER,
		ARTFAMILIA INTEGER,
		CODIGO CHAR(6) NOT NULL,
		NOMBRE NOMBRE NOT NULL,
		TIPO CHAR(4) NOT NULL,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE ARTSUBFAMILIAS ADD FOREIGN KEY ARTSUBFAMFAM (ARTFAMILIA) REFERENCES ARTFAMILIAS(ID) ON DELETE RESTRICT
''Indices
CREATE UNIQUE INDEX IARTSFAM1 ON ARTSUBFAMILIAS (ARTFAMILIA,CODIGO,TIPO)
''FIN DE LA TABLA ARTSUBFAMILIAS

''TABLA PAFAMILIAS
''Estructura
CREATE TABLE PAFAMILIAS 
		(ID INTEGER,
		UNIDAD CHAR(10),
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE PAFAMILIAS ADD FOREIGN KEY PAFAMARTSUBFAM (ID) REFERENCES ARTSUBFAMILIAS(ID) ON DELETE CASCADE
''FIN DE LA TABLA PAFAMILIAS

''TABLA UNIDADESALM
''Estructura
CREATE TABLE UNIDADESALM 
		(ID INTEGER,
		CODIGO CHAR(6),
		NOMBRE NOMBRE,
		SIMBOLO CHAR(5),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA UNIDADESALM

''Unidad de almacen por defecto del sistema
INSERT INTO UNIDADESALM (ID,CODIGO,NOMBRE,SIMBOLO) VALUES(0,'UD','Unidad','UD')

''TABLA UNIDADESCONST
''Estructura
CREATE TABLE UNIDADESCONST 
		(ID INTEGER,
		CODIGO CHAR(6),
		NOMBRE NOMBRE,
		SIMBOLO CHAR(5),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA UNIDADESCONST

''Unidad de cosntruccion por defecto del sistema
INSERT INTO UNIDADESCONST (ID,CODIGO,NOMBRE,SIMBOLO) VALUES(0,'UD','Unidad','UD')

''TABLA UNIDADESCOMPR
''Estructura
CREATE TABLE UNIDADESCOMPR 
		(ID INTEGER,
		CODIGO CHAR(6),
		NOMBRE NOMBRE,
		SIMBOLO CHAR(5),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA UNIDADESCOMPR

''Unidad de cosntruccion por defecto del sistema
INSERT INTO UNIDADESCOMPR (ID,CODIGO,NOMBRE,SIMBOLO) VALUES(0,'UD','Unidad','UD')

''TABLA MPSUBFAMILIAS
''Estructura
CREATE TABLE MPSUBFAMILIAS 
		(ID INTEGER,
		DENSIDAD FIXED(6,2) DEFAULT 0,
		UNIDADCOMPR INTEGER DEFAULT 0,
		UNIDADALM INTEGER DEFAULT 0,
		UNIDADCONST INTEGER DEFAULT 0,
		TIPOMAT CHAR(15),
		PRECIOCOSTE MONEDA,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE MPSUBFAMILIAS ADD FOREIGN KEY MPSUBFAMARTSUBFAM (ID) REFERENCES ARTSUBFAMILIAS(ID) ON DELETE CASCADE
ALTER TABLE MPSUBFAMILIAS ADD FOREIGN KEY MPSUBFAMUDCOMPR (UNIDADCOMPR) REFERENCES UNIDADESCOMPR(ID) ON DELETE SET DEFAULT
ALTER TABLE MPSUBFAMILIAS ADD FOREIGN KEY MPSUBFAMUDCONST (UNIDADCONST) REFERENCES UNIDADESCONST(ID) ON DELETE SET DEFAULT
ALTER TABLE MPSUBFAMILIAS ADD FOREIGN KEY MPSUBFAMUDALM (UNIDADALM) REFERENCES UNIDADESALM(ID) ON DELETE SET DEFAULT
''FIN DE LA TABLA MPSUBFAMILIAS

''TABLA ARTICULOS
''Estructura
CREATE TABLE ARTICULOS 
		(ID INTEGER,
		CODIGO CHAR(15) NOT NULL,
		CODMAN CHAR(15) NOT NULL,
		ARTFAMILIA INTEGER NOT NULL,
		ARTSUBFAMILIA INTEGER NOT NULL,
		TIPO CHAR(4),
		DESCRIPCION NOMBRE NOT NULL,
		ALTURA FIXED(6,2) DEFAULT 0.00,
		ANCHO FIXED(6,2) DEFAULT 0.00,
		DIAMETRO FIXED(6,2) DEFAULT 0.00,
		ESPESOR FIXED(6,2) DEFAULT 0.00,
		LONGITUD FIXED(6,2) DEFAULT 0.00,
		PESO FIXED(6,2) DEFAULT 0.00,
		PLANTA INTEGER,
		ALMACEN INTEGER,
		UBICACION INTEGER,
		HISTORICO BOOLEAN DEFAULT FALSE,
		CALCNEC BOOLEAN DEFAULT TRUE,
		PRECIOVENTA MONEDA,
		PRECIOSTANDARD MONEDA,
		PRECIOMEDIO MONEDA,
		PUC MONEDA,
		CUENTAVENTAS CHAR(12),
		CUENTACOMPRAS CHAR(12),
		UNIDADALM INTEGER DEFAULT 0,
		PEDIDOMIN INTEGER DEFAULT 0,
		STOCKMIN FIXED(10,2) DEFAULT 0.00,
		AVISARMIN BOOLEAN,
		CODIGOBARRAS CHAR(15),
		PATHFOTO INTEGER,
		FECHAMODI TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOMODI CHAR(18) DEFAULT USER,
		FECHACREA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOCREA CHAR(18) DEFAULT USER,
		CONSTRAINT TIPO IN ('MMPP','SSEE','PPAA','OEXT','SERV'),
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE ARTICULOS ADD FOREIGN KEY ARTFAM (ARTFAMILIA) REFERENCES ARTFAMILIAS(ID) ON DELETE RESTRICT
ALTER TABLE ARTICULOS ADD FOREIGN KEY ARTSUBFAM (ARTSUBFAMILIA) REFERENCES ARTSUBFAMILIAS(ID) ON DELETE RESTRICT
'ALTER TABLE ARTICULOS ADD FOREIGN KEY ARTUBI (UBICACION) REFERENCES UBICACIONES(ID) ON DELETE SET NULL
ALTER TABLE ARTICULOS ADD FOREIGN KEY ARTPATH (PATHFOTO) REFERENCES PATHFOTOS(ID) ON DELETE SET NULL
ALTER TABLE ARTICULOS ADD FOREIGN KEY ARTUNID (UNIDADALM) REFERENCES UNIDADESALM(ID) ON DELETE SET DEFAULT

''Indices
CREATE UNIQUE INDEX IART1 ON ARTICULOS (CODIGO,TIPO)
''FIN DE LA TABLA ARTICULOS

''TABLA TIPOOPERARIOS
''Estructura
CREATE TABLE TIPOOPERARIOS 
		(ID INTEGER,
		CODIGO CODIGO NOT NULL,
		NOMBRE NOMBRE NOT NULL,
		NOTA INTEGER,
		PRECIOHORA MONEDA,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE TIPOOPERARIOS ADD FOREIGN KEY TOPENOTAS (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL
''FIN DE LA TABLA TIPOOPERARIOS

''TABLA SEMIELABORADOS
''Estructura
CREATE TABLE SEMIELABORADOS 
		(ID INTEGER,
		HORASMOD FIXED(6,2) DEFAULT 0.00,
		TIPOOPERARIO INTEGER,
		FORMULADO BOOLEAN,
		COSTEMOD MONEDA,
		COSTEESTRUCTURA MONEDA,
		COSTEEXTERIOR MONEDA,
		HORASMODTOTAL FIXED(6,2) DEFAULT 0.00,
		COSTEMODTOTAL MONEDA,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE SEMIELABORADOS ADD FOREIGN KEY SEMART (ID) REFERENCES ARTICULOS(ID) ON DELETE CASCADE
ALTER TABLE SEMIELABORADOS ADD FOREIGN KEY SEMTOPE (TIPOOPERARIO) REFERENCES TIPOOPERARIOS(ID) ON DELETE SET NULL
''FIN DE LA TABLA SEMIELABORADOS

''TABLA LINEASE
''Estructura
CREATE TABLE LINEASE 
		(SEMIELABORADO INTEGER,
		ARTICULO INTEGER,
		LITERAL NOMBRE,
		SEC INTEGER DEFAULT 0,
		CANT CHAR(200),
		A CHAR(200),
		L CHAR(200),
		ORDEN INTEGER DEFAULT 1,
		PRIMARY KEY(SEMIELABORADO,ARTICULO,SEC))
''Claves Foraneas
ALTER TABLE LINEASE ADD FOREIGN KEY LINEASESE (SEMIELABORADO) REFERENCES SEMIELABORADOS(ID) ON DELETE CASCADE
''ALTER TABLE LINEASE ADD FOREIGN KEY LINEASEART (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE RESTRICT
'Esta ultima clave foranea no se puede incluir por referencia circular, pero se puede controlar si usamos triggers.
''FIN DE LA TABLA LINEASE

''TABLA MATPRIMAS
''Estructura
CREATE TABLE MATPRIMAS 
		(ID INTEGER,
		UNIDADCOMPR INTEGER DEFAULT 0,
		UNIDADCONST INTEGER DEFAULT 0,
		FACTCAMBCONST FIXED(10,2) DEFAULT 1,
		TIPOCOSTE CHAR(2) DEFAULT 'DS',
		PRECIODESP MONEDA,
		MESESPROMEDIOCOSTE INTEGER DEFAULT 3,
		ACTUALIZACIONMIN FIXED(10,2) DEFAULT 0,
		ACTUALIZACIONMAX FIXED(10,2) DEFAULT 0,
		TIPOACTUALIZACION INTEGER,
		CONSTRAINT TIPOCOSTE IN ('DS','CD','FC'),
		PRIMARY KEY(ID))
''Claves Foraneas

ALTER TABLE MATPRIMAS ADD FOREIGN KEY MPART (ID) REFERENCES ARTICULOS(ID) ON DELETE CASCADE
ALTER TABLE MATPRIMAS ADD FOREIGN KEY MPUDCOMPR (UNIDADCOMPR) REFERENCES UNIDADESCOMPR ON DELETE SET DEFAULT
ALTER TABLE MATPRIMAS ADD FOREIGN KEY MPUDCONST (UNIDADCONST) REFERENCES UNIDADESCONST ON DELETE SET DEFAULT
''FIN DE LA TABLA MATPRIMAS

''TABLA PLANTILLAS
''Estructura
CREATE TABLE PLANTILLAS 
		(ID INTEGER,
		LINEA INTEGER,
		FAMILIA INTEGER,
		CODIGO CHAR(6) NOT NULL,
		NOMBRE NOMBRE,
		TIPOMAT CHAR(2),
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE PLANTILLAS ADD FOREIGN KEY PLANTLIN (LINEA) REFERENCES LINEAS(ID) ON DELETE RESTRICT
ALTER TABLE PLANTILLAS ADD FOREIGN KEY PLANTFAM (FAMILIA) REFERENCES PAFAMILIAS(ID) ON DELETE RESTRICT
''FIN DE LA TABLA PLANTILLAS


''TABLA PRODACABADOS
''Estructura
CREATE TABLE PRODACABADOS 
		(ID INTEGER,
		PLANTILLA INTEGER,
		USO CHAR(1),
		COSTEESTRUCTURA MONEDA,
		COSTEMOD MONEDA,
		HORASMOD FIXED(10,2),
		CONSTRAINT USO IN ('A','S','O'),
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE PRODACABADOS ADD FOREIGN KEY F1 (PLANTILLA) REFERENCES PLANTILLAS(ID) ON DELETE RESTRICT
''FIN DE LA TABLA PRODACABADOS

''TABLA DETPRODACABADO
''Estructura
CREATE TABLE DETPRODACABADO 
		(ID INTEGER,
		COMPONENTE INTEGER,
		COMBINACION INTEGER,
		ARTICULO INTEGER,
		CANTCOMPO FIXED(10,2) DEFAULT 0.00,
		CANTART FIXED(10,2) DEFAULT 0.00,
		A FIXED(10,2),
		L FIXED(10,2),
		SEC INTEGER DEFAULT 1,
		TIPOART CHAR(4),
		PRIOCOMPO INTEGER,
		PRIOART INTEGER,
		CANTMAT FIXED(10,2) DEFAULT 0.00,
		PRECIOART FIXED(18,6) DEFAULT 0.000000,
		PRIMARY KEY(ID,COMPONENTE,COMBINACION,ARTICULO,SEC))
''Claves Foraneas
ALTER TABLE DETPRODACABADO ADD FOREIGN KEY DETPAPA (ID) REFERENCES PRODACABADOS(ID) ON DELETE CASCADE
ALTER TABLE DETPRODACABADO ADD FOREIGN KEY DETPAART (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE RESTRICT
''FIN DE LA TABLA DETPRODACABADO




''TABLA ACTUALIZACIONES
''Estructura
CREATE TABLE ACTUALIZACIONES 
		(ID INTEGER,
		ARTICULO INTEGER,
		PLANTA INTEGER,
		ALMACEN INTEGER,
		UBICACION INTEGER,
		USUARIO CHAR(15),
		CONCEPTO CHAR(40),
		CANTIDAD FIXED(10,2) DEFAULT 0.00,
		FECHA TIMESTAMP DEFAULT TIMESTAMP,
		HISTORICO BOOLEAN DEFAULT FALSE,
		OPERACION CHAR(2),
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE ACTUALIZACIONES ADD FOREIGN KEY ACTUUBI (PLANTA,ALMACEN,UBICACION) REFERENCES UBICACIONES(PLANTA,ALMACEN,ID) ON DELETE CASCADE
ALTER TABLE ACTUALIZACIONES ADD FOREIGN KEY ACTUART (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA ACTUALIZACIONES

''TABLA MOVIMIENTOS
''Estructura
CREATE TABLE MOVIMIENTOS 
		(ID INTEGER,
		ARTICULO INTEGER,
		PLANTAORG INTEGER,
		ALMORG INTEGER,
		UBIORG INTEGER,
		PLANTADEST INTEGER,
		ALMDEST INTEGER,
		UBIDEST INTEGER,
		USUARIO CHAR(15),
		CONCEPTO CHAR(50),
		CANTIDAD FIXED(10,2) DEFAULT 0.00,
		FECHA TIMESTAMP DEFAULT TIMESTAMP,
		OPERACION CHAR(2),
		HISTORICO BOOLEAN DEFAULT FALSE,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE MOVIMIENTOS ADD FOREIGN KEY MOVUBI1 (PLANTAORG,ALMORG,UBIORG) REFERENCES UBICACIONES(PLANTA,ALMACEN,ID) ON DELETE CASCADE
ALTER TABLE MOVIMIENTOS ADD FOREIGN KEY MOVUBI2 (PLANTADEST,ALMDEST,UBIDEST) REFERENCES UBICACIONES(PLANTA,ALMACEN,ID) ON DELETE CASCADE
ALTER TABLE MOVIMIENTOS ADD FOREIGN KEY MOVARTICULOS (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA MOVIMIENTOS




''TABLA DISENYO
''Estructura
CREATE TABLE DISENYO 
		(ID CHAR(15),
		IDOPERARIO CHAR(6),
		FECHA DATE,
		IDCLIENTE CHAR(6),
		IDPEDIDO INTEGER DEFAULT 0,
		DESTINO CHAR(10),
		IMPORTADO CHAR(15),
		NOTAS CHAR(200),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA DISE O

''TABLA ARTPORNIVEL
''Estructura
CREATE TABLE ARTPORNIVEL 
		(IDDISE O CHAR(15),
		IDNIVEL INTEGER DEFAULT 0,
		IDOPERACION INTEGER,
		IDART INTEGER,
		CANTIDAD FIXED(10,2) DEFAULT 0.00,
		CANTDESPFIJA FIXED(10,2) DEFAULT 0.00,
		CANTDESPVAR FIXED(10,2) DEFAULT 0.00,
		PRECIOUNIDAD MONEDA,
		PRECIODESP MONEDA)
''Claves Foraneas
ALTER TABLE ARTPORNIVEL ADD FOREIGN KEY F1 (IDDISE O) REFERENCES DISENYO(ID) ON DELETE CASCADE
ALTER TABLE ARTPORNIVEL ADD FOREIGN KEY F2 (IDART) REFERENCES ARTICULOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA ARTPORNIVEL

''TABLA TRANSPORTISTAS
''Estructura
CREATE TABLE TRANSPORTISTAS 
		(ID INTEGER,
		CODIGO CHAR(6) UNIQUE NOT NULL,
		NOMBRE NOMBRE NOT NULL,
		NIF CHAR(12),
		EMAIL CHAR(50),
		URL CHAR(50),
		PATHFOTO CHAR(255),
		NOTAS CHAR(400),
		PRIMARY KEY(ID))
''Claves Foraneas
CREATE INDEX IND1 ON TRANSPORTISTAS (NOMBRE)
''FIN DE LA TABLA TRANSPORTISTAS


''TABLA PROVEEDORES
''Estructura
CREATE TABLE PROVEEDORES 
		(ID INTEGER,
		NOMBRE CHAR(60),
		NIF CHAR(17),
		VACDESDE DATE,
		VACHASTA DATE,
		PEDIDOSVAC BOOLEAN,
		EMAIL CHAR(50),
		URL CHAR(50),
		USUWEB CHAR(20),
		PASSWEB CHAR(20),
		IDDIVISA INTEGER DEFAULT 0,
		IDFORMAPAGO INTEGER DEFAULT 0,
		CUENTACONTABLE CHAR(13),
		IDTIPOIVA INTEGER DEFAULT 0,
		DTONORMAL FIXED(4,2) DEFAULT 0.00,
		DTOPP FIXED(4,2) DEFAULT 0.00,
		DTOCIAL FIXED(4,2) DEFAULT 0.00,
		IDCLASEPROV CHAR(6),
		IDTIPOPROV CHAR(6),
		EVALUADO CHAR(1),
		FECHAEVAL DATE,
		PUNTOS FIXED(5,2),
		PROVIMPUESTO CHAR(1),
		ISO CHAR(1),
		DIAPAGO1 INTEGER,
		DIAPAGO2 INTEGER,
		DIAPAGO3 INTEGER,
		DETALLADO BOOLEAN,
		GRUPO CHAR(6) DEFAULT '1',
		TIPO INTEGER,
		FACTMENSUAL BOOLEAN DEFAULT FALSE,
		FACTCONALBARAN BOOLEAN DEFAULT FALSE,
		AGRUPARRECIBOS BOOLEAN DEFAULT FALSE,
		ADMPAGVACDESP BOOLEAN DEFAULT FALSE,
		NUMCOPIAS INTEGER DEFAULT 1,
		NUMCOPIASALB INTEGER DEFAULT 1,
		PAGOSVACAC BOOLEAN DEFAULT FALSE,
		ALBARANESVAL BOOLEAN DEFAULT TRUE,
		BLOQUEADO BOOLEAN DEFAULT FALSE,
		IDTRANSPORTISTA INTEGER DEFAULT 0,
		RIESGOMAX FIXED(18,6) DEFAULT 1.000000,
		PEDIDOSVACDESP BOOLEAN,
		PATHFOTO CHAR(50) DEFAULT '',
		IDNOTA INTEGER,
		FECHAMODI TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOMODI CHAR(18) DEFAULT USER,
		FECHACREA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOCREA CHAR(18) DEFAULT USER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE PROVEEDORES ADD FOREIGN KEY F1 (IDFORMAPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
ALTER TABLE PROVEEDORES ADD FOREIGN KEY F2 (IDDIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
ALTER TABLE PROVEEDORES ADD FOREIGN KEY F3 (IDEMPRESA) REFERENCES EMPRESA(ID) ON DELETE CASCADE
ALTER TABLE PROVEEDORES ADD FOREIGN KEY F4 (IDTIPOIVA) REFERENCES TIPOIVA(ID) ON DELETE RESTRICT
ALTER TABLE PROVEEDORES ADD FOREIGN KEY F5 (IDTRANSPORTISTA) REFERENCES TRANSPORTISTAS(ID) ON DELETE RESTRICT
''FIN DE LA TABLA PROVEEDORES

''TABLA ARTPROV
''Estructura
CREATE TABLE ARTPROV 
		(ARTICULO INTEGER,
		PROVEEDOR INTEGER,
		DESCRIPCION NOMBRE NOT NULL,
		UNIDADCOMPR INTEGER DEFAULT 0,
		FACTORCAMBIO FIXED(10,2) DEFAULT 1.00,
		PLAZO INTEGER DEFAULT 0,
		PRECIOCOMPRA MONEDA,
		PREDETERMINADO BOOLEAN DEFAULT FALSE,
		REF CHAR(25),
		DESCUENTO FIXED(5,2) DEFAULT 0.00,
		PRIMARY KEY(ARTICULO,PROVEEDOR))
''Claves Foraneas
ALTER TABLE ARTPROV ADD FOREIGN KEY F1 (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE CASCADE
ALTER TABLE ARTPROV ADD FOREIGN KEY F2 (PROVEEDOR,IDEMPRESA) REFERENCES PROVEEDORES(ID,IDEMPRESA) ON DELETE CASCADE
ALTER TABLE ARTPROV ADD FOREIGN KEY F3 (UNIDADCOMPR) REFERENCES UNIDADESCOMPR (ID) ON DELETE SET DEFAULT
''Triger

''FIN DE LA TABLA ARTPROV

''TABLA ASIGPEDIDOS
''Estructura
''CREATE TABLE ASIGPEDIDOS 
''		(ID INTEGER DEFAULT 0,
''		ARTICULO CHAR(15),
''		ALMACEN CHAR(6),
''		CANTIDADASIG FIXED(10,2) DEFAULT 0.00,
''		PRIMARY KEY(ID,ARTICULO,IDALMACEN))
''Claves Foraneas
''FIN DE LA TABLA ASIGPEDIDOS

''TABLA AVANCES
''Estructura
CREATE TABLE AVANCES 
		(IDOF INTEGER DEFAULT 0,
		IDSERIE INTEGER DEFAULT 1,
		IDNIVEL INTEGER DEFAULT 0,
		IDOPERACION CHAR(100),
		IDAVANCE INTEGER DEFAULT 0,
		AVANCE INTEGER DEFAULT 0,
		FECHA DATE,
		HORAINICIO TIME,
		HORAFIN TIME,
		FECHAINICIO DATE,
		FECHAFIN DATE,
		PRIMARY KEY(IDOF,IDSERIE,IDNIVEL,IDAVANCE))
''Claves Foraneas
''FIN DE LA TABLA AVANCES

''TABLA BANCOS
''Estructura
CREATE TABLE BANCOS 
		(ID INTEGER,
		NOMBRE CHAR(50),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA BANCOS

''TABLA BULTOS
''Estructura
CREATE TABLE BULTOS 
		(ID INTEGER,
		IDALBARAN INTEGER,
		X INTEGER,
		Y INTEGER,
		Z INTEGER,
		PESO FLOAT(16),
		MATRICULA CHAR(15),
		NOTAS CHAR(50),
		IDEMPRESA INTEGER DEFAULT 1,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE BULTOS ADD FOREIGN KEY ALBARANCLIBULTOS (IDALBARAN) REFERENCES ALBARANCLI(ID) ON DELETE CASCADE
''FIN DE LA TABLA BULTOS

''TABLA CALENDARIOS
''Estructura
CREATE TABLE CALENDARIOS 
		(ID INTEGER,
		CODIGO CODIGO UNIQUE,
		NOMBRE NOMBRE,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA CALENDARIOS

''TABLA CARGAS
''Estructura
CREATE TABLE CARGAS 
		(IDPUESTO CHAR(6),
		IDOF INTEGER DEFAULT 0,
		IDSERIE INTEGER DEFAULT 1,
		IDNIVEL INTEGER DEFAULT 0,
		NUMCARGA INTEGER DEFAULT 0,
		IDOPERACION CHAR(100),
		FECHAINICIO DATE,
		HORAINICIO TIME,
		TIEMPOCARGA INTEGER DEFAULT 0,
		FECHAFINAL DATE,
		HORAFINAL TIME,
		CANTIDAD INTEGER DEFAULT 0,
		TPREP INTEGER DEFAULT 0,
		TFIN INTEGER DEFAULT 0,
		CODSIMUL INTEGER DEFAULT 1,
		COMPRESION FIXED(4,3) DEFAULT 1.000,
		REPARTIDO INTEGER DEFAULT 0,
		PRIMARY KEY(IDOF,IDSERIE,IDNIVEL,NUMCARGA))
''Claves Foraneas
''FIN DE LA TABLA CARGAS

''TABLA CARGASTEMPORALES
''Estructura
CREATE TABLE CARGASTEMPORALES 
		(USUARIO CHAR(20),
		IDMAQUINA CHAR(15),
		IDPUESTO CHAR(6),
		IDOF INTEGER DEFAULT 0,
		IDSERIE INTEGER DEFAULT 1,
		IDNIVEL INTEGER DEFAULT 0,
		NUMCARGA INTEGER DEFAULT 0,
		IDOPERACION CHAR(100),
		FECHAINICIO DATE,
		HORAINICIO TIME,
		TIEMPOCARGA INTEGER DEFAULT 0,
		FECHAFINAL DATE,
		HORAFINAL TIME,
		CANTIDAD INTEGER DEFAULT 0,
		TPREP INTEGER DEFAULT 0,
		TFIN INTEGER DEFAULT 0,
		CODSIMUL INTEGER DEFAULT 1,
		COMPRESION FIXED(4,3) DEFAULT 1.000,
		REPARTIDO INTEGER DEFAULT 0,
		PRIMARY KEY(IDOF,IDSERIE,IDNIVEL,NUMCARGA))
''Claves Foraneas
''FIN DE LA TABLA CARGASTEMPORALES

''TABLA CARGOS
''Estructura
CREATE TABLE CARGOS 
		(ID INTEGER,
		NOMBRE CHAR(50),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA CARGOS

''TABLA CATEGORIASCFG
''Estructura
CREATE TABLE CATEGORIASCFG 
		(ID INTEGER,
		LITERAL CHAR(50),
		IDCATEGORIA INTEGER,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA CATEGORIASCFG

''TABLA CCCLIENTE
''Estructura
CREATE TABLE CCCLIENTE 
		(IDCLIENTE INTEGER,
		IDCUENTA INTEGER,
		IDEMPRESA INTEGER DEFAULT 1)
''Claves Foraneas
''FIN DE LA TABLA CCCLIENTE

''TABLA CCPROVEEDOR
''Estructura
CREATE TABLE CCPROVEEDOR 
		(IDPROVEEDOR CHAR(6),
		IDCUENTA INTEGER,
		IDEMPRESA INTEGER DEFAULT 1)
''Claves Foraneas
''FIN DE LA TABLA CCPROVEEDOR

''TABLA CLASSES
''Estructura
CREATE TABLE CLASSES 
		(ID INTEGER,
		ALIAS CHAR(20),
		NAME CHAR(80),
		INITSEQ CHAR(200),
		DESCRIPCION CHAR(50),
		ENRESERVA BOOLEAN,
		VERSION CHAR(10),
		ALWAYSLOADED BOOLEAN DEFAULT FALSE,
		HIDDEN BOOLEAN DEFAULT FALSE,
		FILENAME CHAR(15),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA CLASSES

''TABLA ROLES
''Estructura
CREATE TABLE ROLES 
		(ID INTEGER,
		NOMBRE NOMBRE,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA ROLES

''TABLA USUARIOS
''Estructura
CREATE TABLE USUARIOS 
		(ROL INTEGER,
		NOMBREPILA CHAR(15) UNIQUE,
		APELLIDOS CHAR(50),
		NOMBRE CHAR(18),
		PRIMARY KEY(NOMBRE))
''Claves Foraneas
ALTER TABLE USUARIOS ADD FOREIGN KEY ROLESUSUARIOS (ROL) REFERENCES ROLES(ID) ON DELETE CASCADE
''FIN DE LA TABLA USUARIOS

''TABLA CODEAPPLICATION
''Estructura
CREATE TABLE CODEAPPLICATION 
		(ID CHAR(2),
		NOMBRE CHAR(50),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA CODEAPPLICATION

''TABLA CLASSESLOADED
''Estructura
CREATE TABLE CLASSESLOADED 
		(IDCLASS INTEGER,
		IDAPP CHAR(2),
		IDUSER CHAR(18),
		IDHOST CHAR(15))
''Claves Foraneas
ALTER TABLE CLASSESLOADED ADD FOREIGN KEY CODEAPPLICATIONCL (IDAPP) REFERENCES CODEAPPLICATION(ID) ON DELETE RESTRICT
ALTER TABLE CLASSESLOADED ADD FOREIGN KEY USUARIOSCLASSESLO (IDUSER) REFERENCES USUARIOS(NOMBRE) ON DELETE RESTRICT
''FIN DE LA TABLA CLASSESLOADED

''TABLA GRUPOSEMPRESAS
''Estructura
CREATE TABLE GRUPOSEMPRESAS 
		(ID INTEGER,
		NOMBRE NOMBRE NOT NULL,
		CTAPROPIA BOOLEAN,
		FICHARESUMIDA BOOLEAN,
		FORMAPAGO CHAR(6),
		IDMEDIOPAGO INTEGER,
		SUBCUENTA CHAR(12),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA GRUPOSEMPRESAS


''TABLA CLIENTES
''Estructura
CREATE TABLE CLIENTES 
		(ID INTEGER,
		NOMBRE CHAR(60),
		NIF CHAR(17),
		EMAIL CHAR(50),
		URL CHAR(50),
		USUWEB CHAR(20),
		PASSWEB CHAR(20),
		IDDIVISA INTEGER DEFAULT 0,
		IDFORMAPAGO INTEGER DEFAULT 0,
		CUENTACONTABLE CHAR(13),
		IDTIPOIVA INTEGER DEFAULT 0,
		DTONORMAL FIXED(4,2) DEFAULT 0.00,
		DTOPP FIXED(4,2) DEFAULT 0.00,
		DTOCIAL FIXED(4,2) DEFAULT 0.00,
		DETALLADO BOOLEAN DEFAULT TRUE,
		TIPO INTEGER DEFAULT 1,
		DIAPAGO1 INTEGER,
		DIAPAGO2 INTEGER,
		DIAPAGO3 INTEGER,
		GRUPO CHAR(6) DEFAULT '1',
		INIVACAC DATE,
		FINVACAC DATE,
		FACTMENSUAL BOOLEAN DEFAULT FALSE,
		RIESGOMAX FIXED(18,6) DEFAULT 1.000000,
		IDTRANSPORTISTA INTEGER DEFAULT 0,
		NUMCOPIAS INTEGER DEFAULT 1,
		NUMCOPIASALB INTEGER DEFAULT 1,
		PAGOSVACAC BOOLEAN DEFAULT FALSE,
		ALBARANESVAL BOOLEAN DEFAULT TRUE,
		BLOQUEADO BOOLEAN DEFAULT FALSE,
		DISTPORTES BOOLEAN DEFAULT FALSE,
		DISTRECARGOS BOOLEAN DEFAULT FALSE,
		FACTCONALBARAN BOOLEAN DEFAULT FALSE,
		PEDIDOSVACAC BOOLEAN DEFAULT FALSE,
		PEDIDOSCOMPLETOS BOOLEAN DEFAULT FALSE,
		AGRUPARRECIBOS BOOLEAN DEFAULT FALSE,
		ADMPRODVACDESP BOOLEAN DEFAULT FALSE,
		ADMPAGVACDESP BOOLEAN DEFAULT FALSE,
		IDEMPRESA INTEGER DEFAULT 1,
		PATHFOTO CHAR(50) DEFAULT '',
		IDNOTA INTEGER,
		FECHAMODI TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOMODI CHAR(18) DEFAULT USER,
		FECHACREA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOCREA CHAR(18) DEFAULT USER,
		IDACTIVIDAD INTEGER DEFAULT 0,
		PRIMARY KEY(ID,IDEMPRESA))
''Claves Foraneas
ALTER TABLE CLIENTES ADD FOREIGN KEY ACTIVIDADESCLIENT (IDACTIVIDAD) REFERENCES ACTIVIDADES(ID) ON DELETE RESTRICT
ALTER TABLE CLIENTES ADD FOREIGN KEY CONDICIONESPAGOCL (IDFORMAPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
ALTER TABLE CLIENTES ADD FOREIGN KEY DIVISASCLIENTES (IDDIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
ALTER TABLE CLIENTES ADD FOREIGN KEY EMPRESACLIENTES (IDEMPRESA) REFERENCES EMPRESA(ID) ON DELETE CASCADE
ALTER TABLE CLIENTES ADD FOREIGN KEY GRUPOSEMPRESASCLI (TIPO) REFERENCES GRUPOSEMPRESAS(ID) ON DELETE RESTRICT
ALTER TABLE CLIENTES ADD FOREIGN KEY TIPOIVACLIENTES (IDTIPOIVA) REFERENCES TIPOIVA(ID) ON DELETE RESTRICT
ALTER TABLE CLIENTES ADD FOREIGN KEY TRANSPORTISTASCLI (IDTRANSPORTISTA) REFERENCES TRANSPORTISTAS(ID) ON DELETE RESTRICT
''FIN DE LA TABLA CLIENTES

''TABLA CLIENTESCOMERCIAL
''Estructura
CREATE TABLE CLIENTESCOMERCIAL 
		(IDCLIENTE INTEGER,
		IDCOMERCIAL INTEGER,
		AREA CHAR(20)
		)
''Claves Foraneas
''FIN DE LA TABLA CLIENTESCOMERCIAL
''TABLA COMERCIALES
''Estructura
CREATE TABLE COMERCIALES 
		(ID INTEGER,
		CODIGO CHAR(6) UNIQUE NOT NULL,
		NOMBRE NOMBRE,
		NIF CHAR(12),
		ENPLANTILLA CHAR(1),
		PATHFOTO INTEGER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE COMERCIALES ADD FOREIGN KEY F1 (PATHFOTO) REFERENCES PATHFOTOS ON DELETE SET NULL
''FIN DE LA TABLA COMERCIALES


''TABLA COMBINACIONES
''Estructura
CREATE TABLE COMBINACIONES 
		(ID INTEGER,
		LINEA INTEGER,
		CODIGO CODIGO,
		NOMBRE NOMBRE,
		PRIORIDAD INTEGER DEFAULT 1,
		LINFV1 FIXED (10,2),
		LSUPV1 FIXED(10,2),
		TIPOCOMBI CHAR(1) DEFAULT 'B',
		CONSTRAINT TIPOCOMBI IN ('B','G','E'),
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE COMBINACIONES ADD FOREIGN KEY COMBILINEA (LINEA) REFERENCES LINEAS(ID) ON DELETE CASCADE

''Indices
CREATE UNIQUE INDEX COMBI1 ON COMBINACIONES (CODIGO,LINEA)
''FIN DE LA TABLA COMBINACIONEs

''TABLA DETCOMBINACIONES
''Estructura
CREATE TABLE DETCOMBINACIONES 
		(COMBINACION INTEGER,
		ARTICULO INTEGER,
		CODIGO CHAR(15),
		LITERAL NOMBRE,
		CANT CHAR(200),
		A CHAR(200),
		L CHAR(200),
		SEC INTEGER DEFAULT 1,
		TIPOART CHAR(4),
		PRIORIDAD INTEGER,
		LINFV1 FIXED(10,2),
		LSUPV1 FIXED(10,2),
		PRIMARY KEY(COMBINACION,ARTICULO,SEC))
''Claves Foraneas
ALTER TABLE DETCOMBINACIONES ADD FOREIGN KEY DETCOMBICOMBI (COMBINACION) REFERENCES COMBINACIONES(ID) ON DELETE CASCADE
ALTER TABLE DETCOMBINACIONES ADD FOREIGN KEY DETCOMBIART (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA DETCOMBINACIONES





''TABLA COMPONENTES
''Estructura
CREATE TABLE COMPONENTES 
		(ID INTEGER,
		LINEA INTEGER,
		CODIGO CODIGO,
		NOMBRE NOMBRE,
		TIPOCOMPO CHAR(1) DEFAULT 'B',
		PRIORIDAD INTEGER DEFAULT 1,
		CONSTRAINT TIPOCOMPO IN ('B','G','E'),
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE COMPONENTES ADD FOREIGN KEY COMPOLINEA (LINEA) REFERENCES LINEAS(ID)
''Indices
CREATE UNIQUE INDEX COMPO1 ON COMPONENTES (CODIGO,LINEA)
''Trigger
'Asegurarse de que no existe ningun componente general con el mismo codigo

''FIN DE LA TABLA COMPONENTES

''TABLA COMPOCOMBI
''Estructura
CREATE TABLE COMPOCOMBI 
		(COMPONENTE INTEGER,
		COMBINACION INTEGER,
		LINEA INTEGER,
		TIPO CHAR(1) DEFAULT 'B',
		CONSTRAINT TIPO IN ('B','G','E'),		
		PRIMARY KEY(COMPONENTE,COMBINACION))
''Claves Foraneas
ALTER TABLE COMPOCOMBI ADD FOREIGN KEY CCCOMPO (COMPONENTE) REFERENCES COMPONENTES(ID) ON DELETE CASCADE
ALTER TABLE COMPOCOMBI ADD FOREIGN KEY CCCOMBI (COMBINACION) REFERENCES COMBINACIONES(ID) ON DELETE CASCADE
ALTER TABLE COMPOCOMBI ADD FOREIGN KEY CCLINEA (LINEA) REFERENCES LINEAS(ID) ON DELETE CASCADE
''FIN DE LA TABLA COMPOCOMBI

''TABLA FASES
''Estructura
CREATE TABLE FASES 
		(ID INTEGER,
		LINEA INTEGER,
		CODIGO CODIGO,
		NOMBRE NOMBRE,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE FASES ADD FOREIGN KEY FASELINEA (LINEA) REFERENCES LINEAS(ID) ON DELETE CASCADE
''Indices
CREATE UNIQUE INDEX FASE1 ON FASES (CODIGO,LINEA)
''FIN DE LA TABLA FASES

''TABLA CENTROSCOSTE
''Estructura
CREATE TABLE CENTROSCOSTE
		(PLANTA INTEGER,
		ID INTEGER,
		CODIGO CODIGO ,
		NOMBRE NOMBRE,
		NOTA INTEGER,
		PRIMARY KEY(PLANTA,ID))
''Claves Foraneas
ALTER TABLE CENTROSCOSTE ADD FOREIGN KEY CENTROSPLANTA (PLANTA) REFERENCES PLANTAS(ID) ON DELETE RESTRICT
ALTER TABLE CENTROSCOSTE ADD FOREIGN KEY CENTROSNOTA (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL

CREATE UNIQUE INDEX CENTROSCOSTE1 ON CENTROSCOSTE (PLANTA,CODIGO)

''FIN DE LA TABLA CENTROSCOSTE

''TABLA SUBFASES
''Estructura
CREATE TABLE SUBFASES 
		(ID INTEGER,
		FASE INTEGER,
		LINEA INTEGER,
		CODIGO CODIGO,
		NOMBRE NOMBRE,
		IDSIMULT CHAR(1),
		DIASSIGFASE FIXED(6,2) DEFAULT 0,
		EXTERNO BOOLEAN,
		HORASMOD FIXED(6,2) DEFAULT 0.00,
		CENTRO1 INTEGER,
		CENTRO2 INTEGER,
		TIPOMOD INTEGER,
		DOTACION FIXED(6,2) DEFAULT 0.00,
		MODCALC CHAR(1) DEFAULT 'D',
		HORASMAX FIXED(6,2) DEFAULT 0,
		HORASMIN FIXED(6,2) DEFAULT 0,
		LINFV1 FIXED(10,2) DEFAULT 0,
		LSUPV1 FIXED(10,2) DEFAULT 0,
		CONSTRAINT MODCALC IN('D','C'),
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE SUBFASES ADD FOREIGN KEY SUBFASEFASE (FASE) REFERENCES FASES(ID) ON DELETE CASCADE
ALTER TABLE SUBFASES ADD FOREIGN KEY SUBFASETIPOMOD (TIPOMOD) REFERENCES TIPOOPERARIOS (ID)
ALTER TABLE SUBFASES ADD FOREIGN KEY SUBFASECENTRO1 (TIPOMOD) REFERENCES CENTROSCOSTE (ID)
ALTER TABLE SUBFASES ADD FOREIGN KEY SUBFASECENTRO2 (TIPOMOD) REFERENCES CENTROSCOSTE (ID)
''Indices
CREATE UNIQUE INDEX SUBFASE1 ON SUBFASES (CODIGO,FASE,LINEA)
''FIN DE LA TABLA SUBFASES

''TABLA OPERACIONESFASE
''Estructura
CREATE TABLE OPERACIONESFASE 
		(ID INTEGER,
		FASE INTEGER,
		SUBFASE INTEGER,
		LINEA INTEGER,
		CODIGO CODIGO,
		NOMBRE NOMBRE,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE OPERACIONESFASE ADD FOREIGN KEY OPFASESUBFASE (SUBFASE) REFERENCES SUBFASES(ID) ON DELETE CASCADE
''Indices
CREATE UNIQUE INDEX OPFASE1 ON OPERACIONESFASE (CODIGO,SUBFASE,FASE,LINEA)
''FIN DE LA TABLA OPERACIONFASE




''TABLA OPERACIONES
''Estructura
CREATE TABLE OPERACIONES 
		(ID INTEGER,
		CODIGO CODIGO UNIQUE,
		NOMBRE NOMBRE,
		NOTA INTEGER,
		EXTERIOR BOOLEAN DEFAULT FALSE,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE OPERACIONES ADD FOREIGN KEY OPERACIONNOTA (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL

''FIN DE LA TABLA OPERACIONES

''TABLA PUESTOSTRABAJO
''Estructura
CREATE TABLE PUESTOSTRABAJO 
		(ID INTEGER,
		PLANTA INTEGER,
		CENTRO INTEGER,
		SECCION INTEGER,
		CALENDARIO INTEGER,
		CODIGO CODIGO UNIQUE NOT NULL,
		NOMBRE NOMBRE DEFAULT '',
		LOGICO BOOLEAN DEFAULT FALSE,
		TIPOMODFIJA INTEGER,
		TIPOMODVAR INTEGER,
		GASTENERGFIJO MONEDA DEFAULT 0,
		GASTENERGVAR MONEDA DEFAULT 0,
		GASTAMORFIJO MONEDA DEFAULT 0,
		GASTAMORVAR MONEDA DEFAULT 0,
		NOTA INTEGER,
		PATHFOTO INTEGER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE PUESTOSTRABAJO ADD FOREIGN KEY PUESTOSCALEN (CALENDARIO) REFERENCES CALENDARIOS(ID) ON DELETE RESTRICT
ALTER TABLE PUESTOSTRABAJO ADD FOREIGN KEY PUESTOSSECCION (PLANTA,CENTRO,SECCION) REFERENCES SECCIONES(PLANTA,CENTRO,ID) ON DELETE RESTRICT
ALTER TABLE PUESTOSTRABAJO ADD FOREIGN KEY PUESTOSMODFIJA (TIPOMODFIJA) REFERENCES TIPOOPERARIOS(ID) ON DELETE RESTRICT
ALTER TABLE PUESTOSTRABAJO ADD FOREIGN KEY PUESTOSMODVAR (TIPOMODVAR) REFERENCES TIPOOPERARIOS(ID) ON DELETE RESTRICT
ALTER TABLE PUESTOSTRABAJO ADD FOREIGN KEY PUESTOSNOTA (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL
ALTER TABLE PUESTOSTRABAJO ADD FOREIGN KEY PUESTOSFOTO (PATHFOTO) REFERENCES PATHFOTOS(ID) ON DELETE SET NULL

''TABLA PUESTOSOPERACION
''Estructura
CREATE TABLE PUESTOSOPERACION 
		(PUESTO INTEGER,
		OPERACION INTEGER,
		TPREP1 FIXED(8,2) DEFAULT 0.00,
		TFIN1 FIXED(8,2) DEFAULT 0.00,
		TPREP2 FIXED(8,2) DEFAULT 0.00,
		TFIN2 FIXED(8,2) DEFAULT 0.00,
		TPROCESO FIXED(8,4) DEFAULT 0.0000,
		DOTPREP FIXED(8,2) DEFAULT 0.00,
		DOTFIN FIXED(4,2),
		DOTPROC FIXED(4,2),
		PRIMARY KEY(PUESTO,OPERACION))
''Claves Foraneas
ALTER TABLE PUESTOSOPERACION ADD FOREIGN KEY PUESTOSOPOP (OPERACION) REFERENCES OPERACIONES(ID) ON DELETE RESTRICT
ALTER TABLE PUESTOSOPERACION ADD FOREIGN KEY PUESTOSOPPUESTO (PUESTO) REFERENCES PUESTOSTRABAJO(ID) ON DELETE RESTRICT
''FIN DE LA TABLA PUESTOSOPERACION

''TABLA SECCIONES
''Estructura
CREATE TABLE SECCIONES 
		(PLANTA INTEGER,
		CENTRO INTEGER,
		ID INTEGER,
		CODIGO CODIGO, 
		NOMBRE NOMBRE NOT NULL,
		NOTA INTEGER,
		PRIMARY KEY(PLANTA,CENTRO,ID))
''Claves Foraneas
ALTER TABLE SECCIONES ADD FOREIGN KEY SECCIONESCENTRO (PLANTA,CENTRO) REFERENCES CENTROSCOSTE(PLANTA,ID) ON DELETE RESTRICT
ALTER TABLE SECCIONES ADD FOREIGN KEY SECCIONESNOTA (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL
''Indice
CREATE UNIQUE INDEX SECCIONES1 ON SECCIONES (PLANTA,CENTRO,CODIGO)
''FIN DE LA TABLA SECCIONES

''TABLA OPERARIOS
''Estructura	(Faltan los datos de direccion)
CREATE TABLE OPERARIOS 
		(ID INTEGER,
		PLANTA INTEGER,
		CENTRO INTEGER,
		SECCION INTEGER,
		CODIGO CODIGO UNIQUE NOT NULL,
		TIPO INTEGER,
		NOMBRE NOMBRE,
		FECHANACIMIENTO DATE,
		FECHACONTRATACION DATE,
		ABSENTISMO CHAR(10),
		HORASANUALES INTEGER DEFAULT 0,
		SECCION INTEGER,
		SALARIOANUAL MONEDA,
		SEGSOCIAL MONEDA,
		OTROSCOSTOS MONEDA,
		NOTA INTEGER,
		PATHFOTO INTEGER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE OPERARIOS ADD FOREIGN KEY OPERARIOSTIPO (TIPO) REFERENCES TIPOOPERARIOS(ID) ON DELETE RESTRICT
ALTER TABLE OPERARIOS ADD FOREIGN KEY OPERARIOSSECCION (PLANTA,CENTRO,SECCION) REFERENCES SECCIONES(PLANTA,CENTRO,ID) ON DELETE RESTRICT
ALTER TABLE OPERARIOS ADD FOREIGN KEY OPERARIOSNOTA (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL
ALTER TABLE OPERARIOS ADD FOREIGN KEY OPERARIOSPATHFOTO (PATHFOTO) REFERENCES PATHFOTOS(ID) ON DELETE SET NULL


''FIN DE LA TABLA OPERARIOS






''TABLA CONFIGSISTEMA
''Estructura
CREATE TABLE CONFIGSISTEMA 
		(ID INTEGER,
		IDEMPRESA INTEGER DEFAULT 1,
		NOMBRE CHAR(20),
		VALOR CHAR(200),
		DATATYPE INTEGER,
		CATEGORIA CHAR(15),
		APPLICATION CHAR(2) DEFAULT '''',
		IDCATEGORIA INTEGER DEFAULT 1,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA CONFIGSISTEMA

''TABLA CONFIGUSUARIO
''Estructura
CREATE TABLE CONFIGUSUARIO 
		(NOMBRE CHAR(20),
		VALOR CHAR(200),
		DATATYPE INTEGER,
		IDUSUARIO CHAR(10),
		APPLICATION CHAR(2) DEFAULT '''',
		IDCATEGORIA INTEGER DEFAULT 1,
		PRIMARY KEY(NOMBRE,IDUSUARIO,APPLICATION))
''Claves Foraneas
''FIN DE LA TABLA CONFIGUSUARIO

''TABLA CONTACTOS
''Estructura
CREATE TABLE CONTACTOS 
		(ID INTEGER,
		NOMBRE CHAR(50),
		TELEFONO CHAR(20),
		FAX CHAR(20),
		TELMOVIL CHAR(20),
		EMAIL CHAR(50),
		IDCARGO INTEGER,
		UBICACION CHAR(15),
		NOTAS CHAR(255),
		PREDETERMINADO BOOLEAN,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE CONTACTOS ADD FOREIGN KEY CONTACTOSCARGOS (IDCARGO) REFERENCES CARGOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA CONTACTOS

''TABLA CONTACTOSCLIENTES
''Estructura
CREATE TABLE CONTACTOSCLIENTES 
		(IDCLIENTE INTEGER DEFAULT 0,
		IDCONTACTO INTEGER DEFAULT 0,
		IDEMPRESA INTEGER DEFAULT 1,
		PRIMARY KEY(IDCLIENTE,IDCONTACTO,IDEMPRESA))
''Claves Foraneas
ALTER TABLE CONTACTOSCLIENTES ADD FOREIGN KEY CLIENTESCONTACTOS (IDCLIENTE,IDEMPRESA) REFERENCES CLIENTES(ID,IDEMPRESA) ON DELETE CASCADE
ALTER TABLE CONTACTOSCLIENTES ADD FOREIGN KEY CONTACTOSCONTACTO (IDCONTACTO) REFERENCES CONTACTOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA CONTACTOSCLIENTES

''TABLA CONTACTOSPROVEEDOR
''Estructura
''CREATE TABLE CONTACTOSPROVEEDOR 
''		(IDPROVEEDOR INTEGER DEFAULT 0,
''		IDCONTACTO INTEGER DEFAULT 0,
''		IDEMPRESA INTEGER DEFAULT 1,
''		PRIMARY KEY(IDPROVEEDOR,IDCONTACTO))
''Claves Foraneas
''ALTER TABLE CONTACTOSPROVEEDOR ADD FOREIGN KEY CONTACTOSCONTACTO (IDCONTACTO) REFERENCES CONTACTOS(ID) ON DELETE CASCADE
''ALTER TABLE CONTACTOSPROVEEDOR ADD FOREIGN KEY PROVEEDORESCONTAC (IDPROVEEDOR) REFERENCES PROVEEDORES(ID) ON DELETE RESTRICT
''FIN DE LA TABLA CONTACTOSPROVEEDOR

''TABLA CONTRATO
''Estructura
CREATE TABLE CONTRATO 
		(IDPRODUCTO CHAR(11),
		CANTIDAD INTEGER DEFAULT 1,
		FECHASOL DATE,
		MARCA CHAR(50),
		MODELO CHAR(50),
		DISTEJES INTEGER DEFAULT 0,
		NOTAS CHAR(400),
		FECHACONTRATO DATE,
		HORA CHAR(5),
		USUARIO CHAR(20),
		FECHACREACION DATE,
		PRESUPUESTADO FIXED(10,2),
		IDCLIENTE INTEGER,
		ID INTEGER,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA CONTRATO

''TABLA COPIACARGAS
''Estructura
CREATE TABLE COPIACARGAS 
		(IDPUESTO CHAR(6),
		IDOF INTEGER DEFAULT 0,
		IDSERIE INTEGER DEFAULT 1,
		IDNIVEL INTEGER DEFAULT 0,
		NUMCARGA INTEGER DEFAULT 0,
		IDOPERACION CHAR(100),
		FECHAINICIO DATE,
		HORAINICIO TIME,
		TIEMPOCARGA INTEGER DEFAULT 0,
		FECHAFINAL DATE,
		HORAFINAL TIME,
		CANTIDAD INTEGER DEFAULT 0,
		TPREP INTEGER DEFAULT 0,
		TFIN INTEGER DEFAULT 0,
		CODSIMUL INTEGER DEFAULT 1,
		COMPRESION FIXED(4,3) DEFAULT 1.000,
		REPARTIDO INTEGER DEFAULT 0,
		PRIMARY KEY(IDOF,IDSERIE,IDNIVEL,NUMCARGA))
''Claves Foraneas
''FIN DE LA TABLA COPIACARGAS

''TABLA CRITINSPVEH
''Estructura
CREATE TABLE CRITINSPVEH 
		(ID INTEGER,
		NOMBRE CHAR(25),
		NOTAS CHAR(200),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA CRITINSPVEH

''TABLA CUENTACORRIENTE
''Estructura
CREATE TABLE CUENTACORRIENTE 
		(ID INTEGER,
		NOMBRE CHAR(15),
		ENTIDAD CHAR(4),
		OFICINA CHAR(4),
		DC CHAR(2),
		CC CHAR(10),
		PREDETERMINADA BOOLEAN,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA CUENTACORRIENTE

''TABLA DATALINK
''Estructura
CREATE TABLE DATALINK 
		(ID INTEGER,
		NOMBRE CHAR(50),
		TIPO CHAR(15),
		SQL CHAR(1024),
		PARAMS INTEGER DEFAULT 0,
		ICON CHAR(25),
		COLUMNACLAVE INTEGER DEFAULT 1,
		OCULTARCLAVE BOOLEAN DEFAULT FALSE,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA DATALINK

''TABLA DATASEARCH
''Estructura
CREATE TABLE DATASEARCH 
		(ID INTEGER,
		IDSEARCH CHAR(15),
		IDDATALINK INTEGER,
		TYPE CHAR(2),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA DATASEARCH

''TABLA DETALLESCFG
''Estructura
CREATE TABLE DETALLESCFG 
		(CLAVE CHAR(20),
		LITERAL CHAR(50),
		DESCRIPCION CHAR(250),
		FORMATO CHAR(50),
		IDCATEGORIA INTEGER DEFAULT 1,
		PRIMARY KEY(CLAVE))
''Claves Foraneas
''FIN DE LA TABLA DETALLESCFG

''TABLA SERIES
''Estructura
CREATE TABLE SERIES 
		(ID CHAR(3),
		NOMBRE CHAR(60),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA SERIES

''TABLA PEDIDOPROV
''Estructura
CREATE TABLE PEDIDOPROV 
		(ID INTEGER,
		IDSERIE CHAR(3),
		FECHA DATE,
		FECHAREC DATE,
		IDFP INTEGER DEFAULT 0,
		IDDIVISA INTEGER DEFAULT 0,
		ORIGEN CHAR(25),
		DTOCIAL FIXED(5,2) DEFAULT 0.00,
		DTOPP FIXED(5,2) DEFAULT 0.00,
		RECARGO FIXED(5,2) DEFAULT 0.00,
		IVA FIXED(5,2) DEFAULT 0.00,
		HISTORICO CHAR(1) DEFAULT '0',
		ESTADO CHAR(2) DEFAULT 'NU',
		NOTAS CHAR(200),
		BASE FIXED(18,6) DEFAULT 0.000000,
		IMPBRUTO FIXED(18,6) DEFAULT 0.000000,
		TOTAL FIXED(18,6) DEFAULT 0.000000,
		TMPPROV INTEGER,
		IDPROV INTEGER,
		IDTRANS INTEGER DEFAULT 0,
		IDLOC INTEGER DEFAULT 0,
		IDCONTACTO INTEGER DEFAULT 0,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE PEDIDOPROV ADD FOREIGN KEY PEDIDODIVISA (IDDIVISA) REFERENCES DIVISAS(ID) ON DELETE SET DEFAULT
ALTER TABLE PEDIDOPROV ADD FOREIGN KEY PEDIDOSERIES (IDSERIE) REFERENCES SERIES(ID) ON DELETE SET NULL
ALTER TABLE PEDIDOPROV ADD FOREIGN KEY CONDICIONESPAGOPE (IDFP) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
''FIN DE LA TABLA PEDIDOPROV

''TABLA LINPEDIDOPROV
''Estructura
CREATE TABLE LINPEDIDOPROV 
		(ID INTEGER,
		LINEA INTEGER DEFAULT 0,
		ARTICULO INTEGER,
		DTO FIXED(5,2) DEFAULT 0.00,
		CANTPED FIXED(10,2) DEFAULT 0.00,
		CANTREC FIXED(10,2) DEFAULT 0.00,
		LITERAL CHAR(75),
		CANTALM FIXED(10,2) DEFAULT 0.00,
		PRECIOUNIDAD FIXED(18,6) DEFAULT 0.000000,
		CANTACEP FIXED(10,2) DEFAULT 0.00,
		CANTRET FIXED(10,2) DEFAULT 0.00,
		CANTRECH FIXED(10,2) DEFAULT 0.00,
		FINALIZADO BOOLEAN DEFAULT FALSE,
		ESTADO INTEGER,
		PRECIOALBARAN FIXED(18,6),
		UNIDAD CHAR(3) DEFAULT 'UD',
		OFS INTEGER,
		PRIMARY KEY(ID,LINEA))
''Claves Foraneas
ALTER TABLE LINPEDIDOPROV ADD FOREIGN KEY F1 (ID) REFERENCES PEDIDOPROV(ID) ON DELETE CASCADE
ALTER TABLE LINPEDIDOPROV ADD FOREIGN KEY F2 (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA LINPEDIDOPROV

''TABLA ESTRECEP
''Estructura
CREATE TABLE ESTRECEP 
		(ID INTEGER,
		ALBARAN CHAR(10),
		IDPED INTEGER,
		LINEA INTEGER,
		FECHA DATE,
		CANTREC INTEGER DEFAULT 0,
		CANTACEP INTEGER DEFAULT 0,
		CANTRET INTEGER DEFAULT 0,
		CANTRECH INTEGER DEFAULT 0,
		INCRET CHAR(10),
		INCRECH CHAR(10),
		NOTAS CHAR(200),
		ESTADO CHAR(2),
		AUTORIZADO CHAR(25),
		FECHAALB DATE,
		HISTORICO BOOLEAN DEFAULT FALSE,
		FECHAACEP DATE,
		FECHADEV DATE,
		CANTDEV INTEGER DEFAULT 0,
		ALBDEV INTEGER,
		PRECIORECEP FIXED(18,6) DEFAULT 0.000000,
		IDART CHAR(15),
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE ESTRECEP ADD FOREIGN KEY F1 (IDPED,LINEA) REFERENCES LINPEDIDOPROV(ID,LINEA) ON DELETE CASCADE
''FIN DE LA TABLA ESTRECEP

''TABLA DETESTRECEP
''Estructura
CREATE TABLE DETESTRECEP 
		(ID INTEGER,
		IDEST INTEGER,
		IDCRIT CHAR(3),
		VALIDO BOOLEAN,
		PRIMARY KEY(ID,IDEST))
''Claves Foraneas
ALTER TABLE DETESTRECEP ADD FOREIGN KEY F1 (IDEST) REFERENCES ESTRECEP(ID) ON DELETE CASCADE
''FIN DE LA TABLA DETESTRECEP

''TABLA INVENTARIOS
''Estructura
CREATE TABLE INVENTARIOS 
		(ID INTEGER,
		FECHAINICIO DATE,
		FECHAFINAL DATE,
		A O INTEGER,
		USUARIO CHAR(25),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA INVENTARIOS

''TABLA DETINVENTARIOS
''Estructura
''CREATE TABLE DETINVENTARIOS 
''		(ID INTEGER,
''		IDMP CHAR(15),
''		IDALM INTEGER,
''		IDUBI INTEGER,
''		CANTINICIAL FIXED(10,2),
''		ENTRADAS FIXED(10,2),
''		SALIDAS FIXED(10,2),
''		CANTFINAL FIXED(10,2),
''		IMPORTE FIXED(18,6),
''		PRIMARY KEY(ID,IDMP,IDALM,IDUBI))
''Claves Foraneas
''ALTER TABLE DETINVENTARIOS ADD FOREIGN KEY F1 (ID) REFERENCES INVENTARIOS(ID) ON DELETE CASCADE
''ALTER TABLE DETINVENTARIOS ADD FOREIGN KEY F2 (IDALM,IDUBI) REFERENCES UBICACIONES(ALMACEN,ID) ON DELETE CASCADE
''FIN DE LA TABLA DETINVENTARIOS

''TABLA DETINVINCORP
''Estructura
''CREATE TABLE DETINVINCORP 
''		(ID INTEGER,
''		IDMP CHAR(15),
''		IDALM INTEGER,
''		IDUBI INTEGER,
''		INCORPINI FIXED(10,2),
''		AVANCES FIXED(10,2),
''		DESCARGAS FIXED(10,2),
''		INCORPFINAL FIXED(10,2),
''		DESCCONOF FIXED(10,2),
''		IMPORTE FIXED(18,2),
''		PRIMARY KEY(ID,IDMP,IDALM,IDUBI))
''Claves Foraneas
''ALTER TABLE DETINVINCORP ADD FOREIGN KEY F1 (ID) REFERENCES INVENTARIOS(ID) ON DELETE CASCADE
''ALTER TABLE DETINVINCORP ADD FOREIGN KEY F2 (IDALM,IDUBI) REFERENCES UBICACIONES(ALMACEN,ID) ON DELETE CASCADE
''FIN DE LA TABLA DETINVINCORP

''TABLA DETINVNOINCORP
''Estructura
''CREATE TABLE DETINVNOINCORP 
''		(ID INTEGER,
''		IDMP CHAR(15),
''		IDALM CHAR(6),
''		IDUBI CHAR(6),
''		CANTINICIAL FIXED(10,2),
''		ENTRADAS FIXED(10,2),
''		SALIDAS FIXED(10,2),
''		CANTFINAL FIXED(10,2),
''		IMPORTE FIXED(18,2),
''		PRIMARY KEY(ID,IDMP,IDALM,IDUBI))
''Claves Foraneas
''FIN DE LA TABLA DETINVNOINCORP

''TABLA DETPLANTILLAS
''Estructura
CREATE TABLE DETPLANTILLAS 
		(PLANTILLA INTEGER,
		COMPONENTE INTEGER,
		COMBINACION INTEGER,
		CANTIDAD INTEGER DEFAULT 1,
		PRIMARY KEY(PLANTILLA,COMPONENTE,COMBINACION))
''Claves Foraneas
ALTER TABLE DETPLANTILLAS ADD FOREIGN KEY DETPLANTPLANT (PLANTILLA) REFERENCES PLANTILLAS (ID)
ALTER TABLE DETPLANTILLAS ADD FOREIGN KEY DETPLANTCOMPO (COMPONENTE) REFERENCES COMPONENTES(ID) ON DELETE RESTRICT
ALTER TABLE DETPLANTILLAS ADD FOREIGN KEY DETPLANTCOMBI (COMBINACION) REFERENCES COMBINACIONES(ID) ON DELETE RESTRICT
''FIN DE LA TABLA DETPLANTILLAS

''TABLA TMPDETPLANTILLAS
''Estructura
CREATE TABLE TMPDETPLANTILLAS
		(PLANTILLA INTEGER,
		COMPONENTE INTEGER,
		COMBINACION INTEGER,
		CANTIDAD INTEGER DEFAULT 1,
		EXPANDIDO BOOLEAN,
		NETBIOS CHAR(20),
		GUARDAR BOOLEAN,
		PRIMARY KEY(PLANTILLA,COMPONENTE,COMBINACION,NETBIOS))
''Claves Foraneas

''FIN DE LA TABLA TMPDETPLANTILLAS

''TABLA RECEPVEHIC
''Estructura
CREATE TABLE RECEPVEHIC 
		(ID CHAR(10),
		VEHICCLI BOOLEAN,
		PROPIETARIO CHAR(50),
		IDVEHICULO INTEGER,
		MATRICULA CHAR(15),
		USUARIO CHAR(25),
		FECHA DATE,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA RECEPVEHIC

''TABLA DETRECEPVEHIC
''Estructura
CREATE TABLE DETRECEPVEHIC 
		(ID CHAR(10),
		IDCRIT INTEGER,
		VALOR BOOLEAN,
		PRIMARY KEY(ID,IDCRIT))
''Claves Foraneas
ALTER TABLE DETRECEPVEHIC ADD FOREIGN KEY F1 (ID) REFERENCES RECEPVEHIC(ID) ON DELETE CASCADE
ALTER TABLE DETRECEPVEHIC ADD FOREIGN KEY F2 (IDCRIT) REFERENCES CRITINSPVEH(ID) ON DELETE CASCADE
''FIN DE LA TABLA DETRECEPVEHIC

''TABLA DETSECCION
''Estructura
CREATE TABLE DETSECCION 
		(ID INTEGER,
		IDSECCION INTEGER,
		NOTAS CHAR(200),
		PRIMARY KEY(ID,IDSECCION))
''Claves Foraneas
ALTER TABLE DETSECCION ADD FOREIGN KEY F1 (IDSECCION) REFERENCES SECCIONES(ID) ON DELETE CASCADE
''FIN DE LA TABLA DETSECCION


''TABLA VEHICULOS
''Estructura
CREATE TABLE VEHICULOS 
		(ID INTEGER,
		MARCA CHAR(25),
		MODELO CHAR(25),
		BASTIDOR CHAR(10),
		DISTEJES FIXED(10,2) DEFAULT 0.00,
		VOLADIZO CHAR(15),
		CABINA CHAR(25),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA VEHICULOS

''TABLA DETVEHICULOS
''Estructura
CREATE TABLE DETVEHICULOS 
		(ID INTEGER,
		IDCRIT INTEGER,
		PRIMARY KEY(ID,IDCRIT))
''Claves Foraneas
ALTER TABLE DETVEHICULOS ADD FOREIGN KEY F1 (ID) REFERENCES VEHICULOS(ID) ON DELETE CASCADE
ALTER TABLE DETVEHICULOS ADD FOREIGN KEY F2 (IDCRIT) REFERENCES CRITINSPVEH(ID) ON DELETE CASCADE
''FIN DE LA TABLA DETVEHICULOS

''TABLA DEVOLUCIONES
''Estructura
CREATE TABLE DEVOLUCIONES 
		(ID INTEGER,
		ESTADO CHAR(2),
		IDMOVIMIENTO INTEGER,
		IDALBARANPROV CHAR(10),
		FECHA DATE,
		ALBARANDEV INTEGER,
		PROVEEDOR INTEGER,
		NOTAS CHAR(100),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA DEVOLUCIONES

''TABLA ERRORES
''Estructura
CREATE TABLE ERRORES 
		(ID INTEGER,
		HOST CHAR(15),
		ERROR FLOAT(16),
		DESCRIPCION CHAR(200),
		MENSAJE CHAR(200),
		APLICACION CHAR(2),
		PROCEDIMIENTO CHAR(50),
		FECHA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIO CHAR(20) DEFAULT USER,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA ERRORES

''TABLA ESTADO
''Estructura
CREATE TABLE ESTADO 
		(ID INTEGER,
		NOMBRE CHAR(50),
		DIGITOSCP INTEGER DEFAULT 5,
		CODIGOISO CHAR(3),
		NACIONALIDAD CHAR(15),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA ESTADO

''TABLA ESTADOSDOC
''Estructura
CREATE TABLE ESTADOSDOC 
		(ID INTEGER,
		TIPODOC CHAR(3),
		NOMBRE CHAR(25),
		PRIMARY KEY(ID,TIPODOC))
''Claves Foraneas
''FIN DE LA TABLA ESTADOSDOC

''TABLA ESTRUCTURAOF
''Estructura
CREATE TABLE ESTRUCTURAOF 
		(ID INTEGER,
		VER INTEGER,
		IDCOMPO CHAR(6),
		NOMCOMPO CHAR(40),
		IDCOMBI CHAR(6),
		NOMCOMBI CHAR(40),
		IDMATERIAL CHAR(15),
		NOMMAT CHAR(40),
		CANTCOMBI INTEGER DEFAULT 0,
		CANTMP FIXED(12,2) DEFAULT 0.00,
		A FIXED(12,2),
		L FIXED(12,2),
		SEC INTEGER DEFAULT 1,
		MOD FIXED(10,2) DEFAULT 0.00,
		TIPOMAT CHAR(2),
		PRIOCOMPO INTEGER,
		PRIOMAT INTEGER,
		CANTMAT FIXED(8,3),
		PRECIOMAT FIXED(10,2),
		TIPOCOM CHAR(3),
		COMPOORI CHAR(1),
		COMBIORI CHAR(1),
		MATORI CHAR(1),
		ALMORI CHAR(6),
		UBIORI CHAR(6),
		ALMDEST CHAR(6),
		UBIDEST CHAR(6),
		SERVIDO CHAR(1) DEFAULT '0',
		INCORPORADO CHAR(1) DEFAULT '0',
		IDMOVSER INTEGER,
		IDMOVIN INTEGER,
		IDACTDES INTEGER,
		PRIMARY KEY(ID,VER,IDCOMPO,IDCOMBI,IDMATERIAL,SEC))
''Claves Foraneas
''FIN DE LA TABLA ESTRUCTURAOF

''TABLA EVENTOS
''Estructura
CREATE TABLE EVENTOS 
		(ID INTEGER,
		TIPO CHAR(6),
		CODIGOAPP CHAR(2),
		APPVERSION CHAR(9),
		IDDETALLE INTEGER,
		HOSTNAME CHAR(15),
		USUARIO CHAR(20) DEFAULT USER,
		FECHA TIMESTAMP DEFAULT TIMESTAMP,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA EVENTOS

''TABLA EXPROAA
''Estructura
CREATE TABLE EXPROAA 
		(SYSID INTEGER,
		NUMERO INTEGER,
		FECHA DATE,
		SUBCTA CHAR(16),
		CONTRAPARTIDA CHAR(16),
		CONCEPTO CHAR(24),
		DEBE CHAR(1),
		IMPORTE FIXED(18,6),
		FACTURA INTEGER,
		TIPO CHAR(3),
		CUENTAREF CHAR(16),
		TITULO CHAR(40),
		NUMDOC CHAR(6),
		REF CHAR(3),
		CENTROSCOSTE CHAR(10),
		ABONO CHAR(10),
		IDDIVISA CHAR(6),
		DIVISA CHAR(20),
		IMPDIVISA FIXED(18,6),
		IMPEURO FIXED(18,6),
		MONEDA CHAR(1),
		MARCADO BOOLEAN,
		IDASIENTO INTEGER,
		IDEMPRESA INTEGER DEFAULT 1,
		PRIMARY KEY(SYSID))
''Claves Foraneas
''FIN DE LA TABLA EXPROAA

''TABLA EXPROAC
''Estructura
CREATE TABLE EXPROAC 
		(SYSID INTEGER,
		SUBCTA CHAR(16),
		NIF CHAR(15),
		NOMBRE CHAR(40),
		SIGLA CHAR(2),
		DIRECCION CHAR(40),
		NUMERO INTEGER,
		PISO CHAR(10),
		ESCALERA CHAR(10),
		PUERTA INTEGER,
		CP CHAR(10),
		POBLACION CHAR(20),
		PROVINCIA CHAR(20),
		TEL1 CHAR(20),
		TEL2 CHAR(20),
		FAX1 CHAR(20),
		FAX2 CHAR(20),
		NOMBRECONTACTO CHAR(40),
		ACTIVIDAD CHAR(20),
		NACIONALIDAD CHAR(20),
		FECHAALTA DATE,
		IDFPAGO INTEGER,
		RECEQUIV BOOLEAN,
		CODTERCERO CHAR(16),
		MARCADO BOOLEAN,
		IDASIENTO INTEGER,
		IDEMPRESA INTEGER DEFAULT 1,
		PRIMARY KEY(SYSID))
''Claves Foraneas
ALTER TABLE EXPROAC ADD FOREIGN KEY CONDICIONESPAGOEX (IDFPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
''FIN DE LA TABLA EXPROAC

''TABLA EXPROAI
''Estructura
CREATE TABLE EXPROAI 
		(SYSID INTEGER,
		FECHAFACTURA DATE,
		IMPORTE FIXED(18,6),
		IVA FIXED(10,2),
		CUOTAIVA FIXED(10,2),
		RECEQUIV FIXED(10,2),
		RECCUOTA FIXED(10,2),
		IDFACTURA CHAR(10),
		SUBCUENTA CHAR(20),
		NIF CHAR(15),
		TIPOIVA CHAR(1),
		BASEIMPONIBLEE FIXED(18,6),
		CUOTAE FIXED(18,6),
		RECEQUIVE FIXED(18,6),
		TOTAL FIXED(18,6),
		TOTALE FIXED(18,6),
		MARCADO BOOLEAN,
		IDASIENTO INTEGER,
		IDEMPRESA INTEGER DEFAULT 1,
		PRIMARY KEY(SYSID))
''Claves Foraneas
''FIN DE LA TABLA EXPROAI

''TABLA EXTENSIONES
''Estructura
CREATE TABLE EXTENSIONES 
		(EXTENSION CHAR(5),
		COMANDO CHAR(200),
		DESCRIPCION CHAR(100),
		PRIMARY KEY(EXTENSION))
''Claves Foraneas
''FIN DE LA TABLA EXTENSIONES

''TABLA FACTURASCLI
''Estructura
CREATE TABLE FACTURASCLI 
		(ID INTEGER,
		IDALMACEN CHAR(15),
		IDFPAGO INTEGER DEFAULT 0,
		IDDIVISA INTEGER DEFAULT 0,
		VALORDIVISA FLOAT(16),
		FECHA DATE,
		BULTOS FLOAT(16),
		IVA INTEGER DEFAULT 0,
		DESCUENTO FLOAT(16),
		NOTAS CHAR(255),
		ESTADO INTEGER DEFAULT 1,
		TOTAL FIXED(18,6) DEFAULT 0.000000,
		IDEMPRESA INTEGER DEFAULT 1,
		IDMPAGO CHAR(5),
		RECARGOFIN FLOAT(16),
		RECARGOPORTES FLOAT(16),
		DTOPPAGO FLOAT(16),
		DTOCOMERCIAL FLOAT(16),
		DISTRIBUIRPORTES BOOLEAN,
		DISTRIBUIRCARGOS BOOLEAN,
		REVISION INTEGER,
		IDCLIENTE INTEGER,
		IDUBICACION INTEGER DEFAULT 0,
		IDALBARAN INTEGER,
		CONTABILIZADA BOOLEAN DEFAULT FALSE,
		TRANSPORTISTA INTEGER DEFAULT 0,
		SERVICIOTRANSPORTE INTEGER DEFAULT 0,
		FECHAMODI TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOMODI CHAR(18) DEFAULT USER,
		FECHACREA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOCREA CHAR(18) DEFAULT USER,
		PRIMARY KEY(ID,IDEMPRESA))
''Claves Foraneas
ALTER TABLE FACTURASCLI ADD FOREIGN KEY CONDICIONESPAGOFA (IDFPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
ALTER TABLE FACTURASCLI ADD FOREIGN KEY DIVISASFACTURASCL (IDDIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
ALTER TABLE FACTURASCLI ADD FOREIGN KEY EMPRESAFACTURASCL (IDEMPRESA) REFERENCES EMPRESA(ID) ON DELETE CASCADE
ALTER TABLE FACTURASCLI ADD FOREIGN KEY TIPOIVAFACTURASCL (IVA) REFERENCES TIPOIVA(ID) ON DELETE RESTRICT
''FIN DE LA TABLA FACTURASCLI

''TABLA FACTURASPRO
''Estructura
CREATE TABLE FACTURASPRO 
		(ID INTEGER,
		IDALMACEN CHAR(15),
		IDFPAGO INTEGER DEFAULT 0,
		IDDIVISA INTEGER DEFAULT 0,
		VALORDIVISA FLOAT(16),
		FECHA DATE,
		BULTOS FLOAT(16),
		IVA INTEGER DEFAULT 0,
		DESCUENTO FLOAT(16),
		NOTAS CHAR(255),
		ESTADO INTEGER,
		TOTAL FIXED(18,6) DEFAULT 0.000000,
		IDEMPRESA INTEGER,
		IDMPAGO CHAR(5),
		RECARGOFIN FLOAT(16),
		RECARGOPORTES FLOAT(16),
		DTOPPAGO FLOAT(16),
		DTOCOMERCIAL FLOAT(16),
		DISTRIBUIRPORTES BOOLEAN,
		DISTRIBUIRCARGOS BOOLEAN,
		REVISION INTEGER,
		IDPROV INTEGER,
		CODIGO CHAR(15),
		IDUBICACION INTEGER,
		IDALBARAN INTEGER,
		CONTABILIZADA BOOLEAN DEFAULT FALSE,
		TRANSPORTISTA INTEGER DEFAULT 0,
		SERVICIOTRANSPORTE INTEGER DEFAULT 0,
		FECHAMODI TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOMODI CHAR(18) DEFAULT USER,
		FECHACREA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOCREA CHAR(18) DEFAULT USER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE FACTURASPRO ADD FOREIGN KEY CONDICIONESPAGOFA (IDFPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
ALTER TABLE FACTURASPRO ADD FOREIGN KEY DIVISASFACTURASPR (IDDIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
ALTER TABLE FACTURASPRO ADD FOREIGN KEY TIPOIVAFACTURASPR (IVA) REFERENCES TIPOIVA(ID) ON DELETE RESTRICT
''FIN DE LA TABLA FACTURASPRO



''TABLA FIESTAS
''Estructura
CREATE TABLE FIESTAS 
		(ID INTEGER,
		FECHA DATE,
		FIESTA CHAR(40),
		PRIMARY KEY(ID,FECHA))
''Claves Foraneas
ALTER TABLE FIESTAS ADD FOREIGN KEY CF1 (ID) REFERENCES CALENDARIOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA FIESTAS

''TABLA FORMULAS
''Estructura
CREATE TABLE FORMULAS 
		(IDLINEA CHAR(2),
		ID INTEGER,
		FORMULA CHAR(200),
		PRIMARY KEY(IDLINEA,ID))
''Claves Foraneas
''FIN DE LA TABLA FORMULAS

''TABLA IDLOCALIZACIONES
''Estructura
CREATE TABLE IDLOCALIZACIONES 
		(IDLOCALIZACION INTEGER,
		IDREF INTEGER,
		IDTIPOLOC INTEGER,
		IDEMPRESA INTEGER DEFAULT 1,
		PRIMARY KEY(IDLOCALIZACION,IDREF,IDTIPOLOC,IDEMPRESA))
''Claves Foraneas
''FIN DE LA TABLA IDLOCALIZACIONES

''TABLA INSTRUMPAGO
''Estructura
CREATE TABLE INSTRUMPAGO 
		(ID INTEGER,
		NOMBRE CHAR(50),
		RECARGO FIXED(6,2) DEFAULT 0.00,
		PORCENTUAL BOOLEAN DEFAULT TRUE,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA INSTRUMPAGO


CREATE TABLE PROPUESTAPROV 
		(ID INTEGER PRIMARY KEY,
		CODIGO CODIGO UNIQUE NOT NULL,
		PEDIDO INTEGER,
		FECHA TIMESTAMP DEFAULT TIMESTAMP,
		SOLICITANTE CHAR(25),
		NOTA INTEGER,
		VB CHAR(25),
		FECHAVB DATE,
		ESTADO CHAR(2),
		HISTORICO BOOLEAN,
		USUARIO CHAR(25) DEFAULT USER,
		FECHAMODI TIMESTAMP,
		CONSTRAINT ESTADO IN('NU','AC','CA','RC','RP'))

ALTER TABLE PROPUESTAPROV ADD FOREIGN KEY PROPPED (PEDIDO) REFERENCES PEDIDOPROV(ID) ON DELETE SET NULL
ALTER TABLE PROPUESTAPROV ADD FOREIGN KEY PROPNOTA (NOTA) REFERENCES NOTAS(ID) ON DELETE SET NULL


CREATE TABLE LINPROPUESTAPROV (ID INTEGER,
		LINEA INTEGER,
		ARTICULO INTEGER,
		CANTPED FIXED (10,2) DEFAULT 1,
		CANTALM FIXED(10,2) DEFAULT 1,
		OFS INTEGER,
		PRIMARY KEY(ID,LINEA))

ALTER TABLE LINPROPUESTAPROV ADD FOREIGN KEY LINPROPF1 (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE SET NULL


''TABLA PROPUESTAPROV ANTIGUA
''Estructura
''CREATE TABLE PROPUESTAPROV 
''		(ID INTEGER,
''		FECHA DATE,
''		FECHAREC DATE,
''		IDFP INTEGER DEFAULT 0,
''		ORIGEN CHAR(25),
''		SECCIONORG CHAR(6),
''		DEST CHAR(25),
''		SECCIONDEST CHAR(6),
''		EFECTCOMPRA CHAR(1) DEFAULT 'C',
''		HISTORICO CHAR(1) DEFAULT '0',
''		IDPEDIDO INTEGER,
''		VB CHAR(25),
''		FECHAVB DATE,
''		NOTAS CHAR(200),
''		TOTAL FIXED(18,6) DEFAULT 0.000000,
''		IDPROV INTEGER,
''		PRIMARY KEY(ID))
''Claves Foraneas
''ALTER TABLE PROPUESTAPROV ADD FOREIGN KEY CF4 (IDPEDIDO) REFERENCES PEDIDOPROV(ID) ON DELETE SET NULL
''ALTER TABLE PROPUESTAPROV ADD FOREIGN KEY CONDICIONESPAGOPR (IDFP) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
''FIN DE LA TABLA PROPUESTAPROV

''TABLA LINPROPPROV
''Estructura
''CREATE TABLE LINPROPPROV 
''		(ID INTEGER,
''		LINEA INTEGER DEFAULT 0,
''		ARTICULO INTEGER,
''		DTO FIXED(5,2) DEFAULT 0.00,
''		CANTPED FIXED(10,2) DEFAULT 0.00,
''		CANTALM FIXED(10,2),
''		LITERAL CHAR(75),
''		PRECIOUNIDAD FIXED(18,6) DEFAULT 0.000000,
''		UNIDAD CHAR(3) DEFAULT 'UD',
''		OFS INTEGER,
''		PRIMARY KEY(ID,LINEA))
''''Claves Foraneas
''ALTER TABLE LINPROPPROV ADD FOREIGN KEY F1 (ID) REFERENCES PROPUESTAPROV(ID) ON DELETE CASCADE
''ALTER TABLE LINPROPPROV ADD FOREIGN KEY F2 (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE SET NULL
''FIN DE LA TABLA LINPROPPROV


''TABLA LINABONOSCLI
''Estructura
CREATE TABLE LINABONOSCLI 
		(IDDOC INTEGER,
		LINDETALLE INTEGER,
		ARTICULO INTEGER,
		DESCRIPCION CHAR(50),
		CANTIDAD FLOAT(16),
		DESCUENTO FLOAT(16),
		ESTADO INTEGER DEFAULT 1,
		PRECIO FIXED(18,6) DEFAULT 0.000000,
		UNIDADES CHAR(3) DEFAULT 'UD',
		PRIMARY KEY(IDDOC,LINDETALLE))
''Claves Foraneas
''ALTER TABLE LINABONOSCLI ADD FOREIGN KEY UNIDADESLINABONO (UNIDADES) REFERENCES UNIDADES(ID) ON DELETE RESTRICT
''FIN DE LA TABLA LINABONOSCLI

''TABLA LINALBARANCLI
''Estructura
CREATE TABLE LINALBARANCLI 
		(IDDOC INTEGER,
		LINDETALLE INTEGER,
		ARTICULO INTEGER,
		DESCRIPCION CHAR(50),
		CANTIDAD FLOAT(16),
		DESCUENTO FLOAT(16),
		ESTADO INTEGER DEFAULT 1,
		PRECIO FIXED(18,6) DEFAULT 0.000000,
		IDACTUALIZACION INTEGER,
		IDEMPRESA INTEGER DEFAULT 1,
		UNIDADES CHAR(3) DEFAULT 'UD',
		PRIMARY KEY(IDDOC,LINDETALLE,IDEMPRESA))
''Claves Foraneas
''ALTER TABLE LINALBARANCLI ADD FOREIGN KEY ALBARANCLILINALB (IDDOC,IDEMPRESA) REFERENCES ALBARANCLI(ID,IDEMPRESA) ON DELETE CASCADE
ALTER TABLE LINALBARANCLI ADD FOREIGN KEY ARTICULOSLINALBA (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE RESTRICT
''ALTER TABLE LINALBARANCLI ADD FOREIGN KEY UNIDADESLINALBAR (UNIDADES) REFERENCES UNIDADES(ID) ON DELETE RESTRICT
''FIN DE LA TABLA LINALBARANCLI

''TABLA LINALBARANPRO
''Estructura
CREATE TABLE LINALBARANPRO 
		(IDDOC INTEGER,
		LINDETALLE INTEGER,
		ARTICULO INTEGER,
		DESCRIPCION CHAR(50),
		CANTIDAD FLOAT(16),
		DESCUENTO FLOAT(16),
		ESTADO INTEGER DEFAULT 1,
		PRECIO FIXED(18,6) DEFAULT 0.000000,
		IDACTUALIZACION INTEGER,
		IDEMPRESA INTEGER DEFAULT 1,
		UNIDADES CHAR(3) DEFAULT 'UD',
		PRIMARY KEY(IDDOC,LINDETALLE))
''Claves Foraneas
ALTER TABLE LINALBARANPRO ADD FOREIGN KEY ALBARANPROLINALB (IDDOC) REFERENCES ALBARANPRO(ID) ON DELETE CASCADE
ALTER TABLE LINALBARANPRO ADD FOREIGN KEY ARTICULOSLINALBA (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE RESTRICT
''ALTER TABLE LINALBARANPRO ADD FOREIGN KEY UNIDADESLINALBAR (UNIDADES) REFERENCES UNIDADES(ID) ON DELETE RESTRICT
''FIN DE LA TABLA LINALBARANPRO

''TABLA LINFACTURASCLI
''Estructura
CREATE TABLE LINFACTURASCLI 
		(IDDOC INTEGER,
		LINDETALLE INTEGER,
		ARTICULO INTEGER,
		DESCRIPCION CHAR(50),
		CANTIDAD FLOAT(16),
		DESCUENTO FLOAT(16),
		ESTADO INTEGER DEFAULT 1,
		PRECIO FIXED(18,6) DEFAULT 0.000000,
		IDEMPRESA INTEGER DEFAULT 1,
		UNIDADES CHAR(3) DEFAULT 'UD',
		PRIMARY KEY(IDDOC,LINDETALLE,IDEMPRESA))
''Claves Foraneas
ALTER TABLE LINFACTURASCLI ADD FOREIGN KEY ARTICULOSLINFACT (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE RESTRICT
ALTER TABLE LINFACTURASCLI ADD FOREIGN KEY FACTURASCLILINFA (IDDOC,IDEMPRESA) REFERENCES FACTURASCLI(ID,IDEMPRESA) ON DELETE CASCADE
''ALTER TABLE LINFACTURASCLI ADD FOREIGN KEY UNIDADESLINFACTU (UNIDADES) REFERENCES UNIDADES(ID) ON DELETE RESTRICT
''FIN DE LA TABLA LINFACTURASCLI

''TABLA LINFACTURASPRO
''Estructura
CREATE TABLE LINFACTURASPRO 
		(IDDOC INTEGER,
		LINDETALLE INTEGER,
		ARTICULO INTEGER,
		DESCRIPCION CHAR(50),
		CANTIDAD FLOAT(16),
		DESCUENTO FLOAT(16),
		ESTADO INTEGER DEFAULT 1,
		PRECIO FIXED(18,6) DEFAULT 0.000000,
		UNIDADES CHAR(3) DEFAULT 'UD',
		PRIMARY KEY(IDDOC,LINDETALLE))
''Claves Foraneas
ALTER TABLE LINFACTURASPRO ADD FOREIGN KEY ARTICULOSLINFACT (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE RESTRICT
ALTER TABLE LINFACTURASPRO ADD FOREIGN KEY FACTURASPROLINFA (IDDOC) REFERENCES FACTURASPRO(ID) ON DELETE CASCADE
''ALTER TABLE LINFACTURASPRO ADD FOREIGN KEY UNIDADESLINFACTU (UNIDADES) REFERENCES UNIDADES(ID) ON DELETE RESTRICT
''FIN DE LA TABLA LINFACTURASPRO

''TABLA PEDIDOSCLI
''Estructura
CREATE TABLE PEDIDOSCLI 
		(ID INTEGER,
		IDALMACEN CHAR(15),
		IDFPAGO INTEGER DEFAULT 0,
		IDDIVISA INTEGER DEFAULT 0,
		VALORDIVISA FLOAT(16),
		IDOPERARIO INTEGER,
		COMISIONAGENTE FLOAT(16),
		FECHA DATE,
		BULTOS FLOAT(16),
		IVA INTEGER DEFAULT 0,
		DESCUENTO FLOAT(16),
		NOTAS CHAR(255),
		ESTADO INTEGER DEFAULT 1,
		TOTAL FIXED(18,6) DEFAULT 0.000000,
		IDEMPRESA INTEGER DEFAULT 1,
		IDMPAGO CHAR(5),
		RECARGOFIN FLOAT(16),
		RECARGOPORTES FLOAT(16),
		DTOPPAGO FLOAT(16),
		DTOCOMERCIAL FLOAT(16),
		DISTRIBUIRPORTES BOOLEAN,
		DISTRIBUIRCARGOS BOOLEAN,
		REVISION INTEGER,
		IDPRESUPUESTO INTEGER,
		IDCLIENTE INTEGER,
		IDUBICACION INTEGER DEFAULT 0,
		FECHAMODI TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOMODI CHAR(18) DEFAULT USER,
		FECHACREA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOCREA CHAR(18) DEFAULT USER,
		PRIMARY KEY(ID,IDEMPRESA))
''Claves Foraneas
ALTER TABLE PEDIDOSCLI ADD FOREIGN KEY CONDICIONESPAGOPE (IDFPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
ALTER TABLE PEDIDOSCLI ADD FOREIGN KEY DIVISASPEDIDOSCLI (IDDIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
ALTER TABLE PEDIDOSCLI ADD FOREIGN KEY EMPRESAPEDIDOSCLI (IDEMPRESA) REFERENCES EMPRESA(ID) ON DELETE CASCADE
ALTER TABLE PEDIDOSCLI ADD FOREIGN KEY TIPOIVAPEDIDOSCLI (IVA) REFERENCES TIPOIVA(ID) ON DELETE RESTRICT
''FIN DE LA TABLA PEDIDOSCLI

''TABLA LINPEDIDOSCLI
''Estructura
CREATE TABLE LINPEDIDOSCLI 
		(IDDOC INTEGER,
		LINDETALLE INTEGER,
		ARTICULO INTEGER,
		DESCRIPCION CHAR(50),
		CANTIDAD FLOAT(16),
		DESCUENTO FLOAT(16),
		ESTADO INTEGER DEFAULT 1,
		PRECIO FIXED(18,6) DEFAULT 0.000000,
		IDEMPRESA INTEGER DEFAULT 1,
		UNIDADES CHAR(3) DEFAULT 'UD',
		PRIMARY KEY(IDDOC,LINDETALLE,IDEMPRESA))
''Claves Foraneas
ALTER TABLE LINPEDIDOSCLI ADD FOREIGN KEY ARTICULOSLINPEDI (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE RESTRICT
ALTER TABLE LINPEDIDOSCLI ADD FOREIGN KEY PEDIDOSCLILINPED (IDDOC,IDEMPRESA) REFERENCES PEDIDOSCLI(ID,IDEMPRESA) ON DELETE CASCADE
''ALTER TABLE LINPEDIDOSCLI ADD FOREIGN KEY UNIDADESLINPEDID (UNIDADES) REFERENCES UNIDADES(ID) ON DELETE RESTRICT
''FIN DE LA TABLA LINPEDIDOSCLI

''TABLA PRESUPCLI
''Estructura
CREATE TABLE PRESUPCLI 
		(ID INTEGER,
		IDALMACEN CHAR(15),
		IDFPAGO INTEGER DEFAULT 0,
		IDDIVISA INTEGER DEFAULT 0,
		VALORDIVISA FLOAT(16),
		IDOPERARIO INTEGER,
		COMISIONAGENTE FLOAT(16),
		FECHA DATE,
		BULTOS FLOAT(16),
		IVA INTEGER,
		DESCUENTO FLOAT(16),
		NOTAS CHAR(255),
		ESTADO INTEGER DEFAULT 1,
		TOTAL FIXED(18,6) DEFAULT 0.000000,
		IDEMPRESA INTEGER DEFAULT 1,
		IDMPAGO CHAR(5),
		RECARGOFIN FLOAT(16),
		RECARGOPORTES FLOAT(16),
		DTOPPAGO FLOAT(16),
		DTOCOMERCIAL FLOAT(16),
		DISTRIBUIRPORTES BOOLEAN,
		DISTRIBUIRCARGOS BOOLEAN,
		REVISION INTEGER,
		FECHACADUCIDAD DATE,
		INFORMATIVO BOOLEAN DEFAULT FALSE,
		IDCLIENTE INTEGER,
		IDUBICACION INTEGER DEFAULT 0,
		FECHAMODI TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOMODI CHAR(18) DEFAULT USER,
		FECHACREA TIMESTAMP DEFAULT TIMESTAMP,
		USUARIOCREA CHAR(18) DEFAULT USER,
		PRIMARY KEY(ID,IDEMPRESA))
''Claves Foraneas
ALTER TABLE PRESUPCLI ADD FOREIGN KEY CONDICIONESPAGOPR (IDFPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
ALTER TABLE PRESUPCLI ADD FOREIGN KEY DIVISASPRESUPCLI (IDDIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
ALTER TABLE PRESUPCLI ADD FOREIGN KEY EMPRESAPRESUPCLI (IDEMPRESA) REFERENCES EMPRESA(ID) ON DELETE CASCADE
ALTER TABLE PRESUPCLI ADD FOREIGN KEY TIPOIVAPRESUPCLI (IVA) REFERENCES TIPOIVA(ID) ON DELETE RESTRICT
''FIN DE LA TABLA PRESUPCLI

''TABLA LINPRESUPCLI
''Estructura
CREATE TABLE LINPRESUPCLI 
		(IDDOC INTEGER,
		LINDETALLE INTEGER,
		ARTICULO INTEGER,
		DESCRIPCION CHAR(50),
		CANTIDAD FLOAT(16),
		DESCUENTO FLOAT(16),
		ESTADO INTEGER DEFAULT 1,
		PRECIO FIXED(18,6) DEFAULT 0.000000,
		IDEMPRESA INTEGER DEFAULT 1,
		UNIDADES CHAR(3) DEFAULT 'UD',
		PRIMARY KEY(IDDOC,LINDETALLE,IDEMPRESA))
''Claves Foraneas
ALTER TABLE LINPRESUPCLI ADD FOREIGN KEY ARTICULOSLINPRES (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE RESTRICT
ALTER TABLE LINPRESUPCLI ADD FOREIGN KEY PRESUPCLILINPRES (IDDOC,IDEMPRESA) REFERENCES PRESUPCLI(ID,IDEMPRESA) ON DELETE CASCADE
''ALTER TABLE LINPRESUPCLI ADD FOREIGN KEY UNIDADESLINPRESU (UNIDADES) REFERENCES UNIDADES(ID) ON DELETE RESTRICT
''FIN DE LA TABLA LINPRESUPCLI

''TABLA PROVINCIA
''Estructura
CREATE TABLE PROVINCIA 
		(ID INTEGER,
		NOMBRE CHAR(50),
		IDESTADO INTEGER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE PROVINCIA ADD FOREIGN KEY ESTADOPROVINCIA (IDESTADO) REFERENCES ESTADO(ID) ON DELETE RESTRICT
''FIN DE LA TABLA PROVINCIA

''TABLA POBLACION
''Estructura
CREATE TABLE POBLACION 
		(NOMBRE CHAR(50),
		CAPITAL BOOLEAN DEFAULT FALSE,
		IDPROVINCIA INTEGER,
		NUMCP INTEGER DEFAULT 0,
		CP CHAR(10),
		ID INTEGER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE POBLACION ADD FOREIGN KEY PROVINCIAPOBLACIO (IDPROVINCIA) REFERENCES PROVINCIA(ID) ON DELETE RESTRICT
''FIN DE LA TABLA POBLACION

''TABLA LOCALIZACIONES
''Estructura
CREATE TABLE LOCALIZACIONES 
		(ID INTEGER,
		DIRECCION CHAR(60),
		NOMBRE CHAR(50),
		TELEFONO CHAR(20),
		FAX CHAR(10),
		PREDETERMINADA BOOLEAN,
		IDPOBLACION INTEGER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE LOCALIZACIONES ADD FOREIGN KEY POBLACIONLOCALIZA (IDPOBLACION) REFERENCES POBLACION(ID) ON DELETE RESTRICT
''FIN DE LA TABLA LOCALIZACIONES


''las maquinas estan ubicadas en secciones, pero permitimos que se puedan mover entre secciones
''por lo tanto no creamos un indice con el codigo
CREATE TABLE MAQUINAS 
		(ID INTEGER,
		CODIGO UNIQUE NOT NULL,
		PLANTA INTEGER,
		CENTRO INTEGER,
		SECCION INTEGER,		
		NOMBRE NOMBRE,
		FABRICANTE CHAR(25),
		MODELO CHAR(25),
		FECHACOMPRA DATE,
		POTENCIANOMINAL FIXED(10,2) DEFAULT 0.00,
		NOTA INTEGER,
		PATHFOTO INTEGER,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE MAQUINAS ADD FOREIGN KEY MAQUINASSECCION (PLANTA,CENTRO,SECCION) REFERENCES SECCIONES(PLANTA,CENTRO,ID) ON DELETE RESTRICT
ALTER TABLE MAQUINAS ADD FOREIGN KEY MAQUINASNOTAS (NOTA) REFERENCES NOTAS (ID) ON DELETE SET NULL
ALTER TABLE MAQUINAS ADD FOREIGN KEY MAQUINASPATHFOTO (PATHFOTO) REFERENCES PATHFOTOS (ID) ON DELETE SET NULL
''FIN DE LA TABLA MAQUINAS

''TABLA MOTIVOSANULACION
''Estructura
CREATE TABLE MOTIVOSANULACION 
		(ID INTEGER,
		DESCRIPCION CHAR(50),
		ESTANDAR BOOLEAN,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA MOTIVOSANULACION


''TABLA NECESIDADESMAT
''Estructura
CREATE TABLE NECESIDADESMAT 
		(IDART CHAR(15),
		SEC INTEGER,
		FECHANEC DATE,
		IDOF INTEGER,
		VERSION INTEGER,
		CANTBRUTA FIXED(14,2) DEFAULT 0.00,
		CANTNETA FIXED(14,2) DEFAULT 0.00,
		SEMIELABORADO INTEGER DEFAULT 0,
		PRIMARY KEY(IDART,SEC,IDOF))
''Claves Foraneas
''FIN DE LA TABLA NECESIDADESMAT

''TABLA TABLAREF
''Estructura
CREATE TABLE TABLAREF 
		(LINEA INTEGER,
		LINFV1 FIXED(10,2) DEFAULT 0,
		LSUPV1 FIXED(10,2) DEFAULT 0,
		PRIMARY KEY(LINEA,LINFV1,LSUPV1))
''Claves Foraneas
ALTER TABLE TABLAREF ADD FOREIGN KEY TABLAREFLINEA (LINEA) REFERENCES LINEAS(ID) ON DELETE CASCADE
''FIN DE LA TABLA TABLAREF

''TABLA NOMBREVARS
''Estructura
CREATE TABLE NOMBREVARS 
		(LINEA INTEGER,
		COLUMNA INTEGER DEFAULT 1,
		NOMBRE NOMBRE,
		VALORDEFECTO FIXED(10,2) DEFAULT 0,
		PRIMARY KEY(LINEA,COLUMNA))
''Claves Foraneas
ALTER TABLE NOMBREVARS ADD FOREIGN KEY NOMBREVARSLINEA (LINEA) REFERENCES ARTFAMILIAS(ID) ON DELETE CASCADE
''FIN DE LA TABLA NOMBREVARS

''TABLA VALORVARS
''Estructura
CREATE TABLE VALORVARS 
		(LINEA INTEGER,
		COLUMNA INTEGER DEFAULT 1,
		LINFV1 FIXED(10,2) DEFAULT 0,
		LSUPV1 FIXED(10,2) DEFAULT 0,
		VALOR FIXED(10,2) DEFAULT 0,
		PRIMARY KEY(LINEA,COLUMNA,LINFV1,LSUPV1))
''Claves Foraneas
ALTER TABLE VALORVARS ADD FOREIGN KEY VALORVARSNOMBREVARS (LINEA,COLUMNA) REFERENCES NOMBREVARS(LINEA,COLUMNA) ON DELETE CASCADE
ALTER TABLE VALORVARS ADD FOREIGN KEY VALORVARSTABLAREF (LINEA,LINFV1,LSUPV1) REFERENCES TABLAREF(LINEA,LINFV1,LSUPV1) ON DELETE CASCADE
''FIN DE LA TABLA NOMBREVARS

''TABLA NOTASPED
''Estructura
CREATE TABLE NOTASPED 
		(IDPED INTEGER,
		ID INTEGER,
		IDSECCION CHAR(6),
		IDNOTA INTEGER,
		PRIMARY KEY(IDPED,ID))
''Claves Foraneas
ALTER TABLE NOTASPED ADD FOREIGN KEY F1 (IDPED) REFERENCES PEDIDOPROV(ID) ON DELETE CASCADE
''FIN DE LA TABLA NOTASPED

''TABLA NOTASPROP
''Estructura
CREATE TABLE NOTASPROP 
		(IDPROP INTEGER,
		ID INTEGER,
		IDSECCION CHAR(6),
		IDNOTA INTEGER,
		PRIMARY KEY(IDPROP,ID))
''Claves Foraneas
ALTER TABLE NOTASPROP ADD FOREIGN KEY F1 (IDPROP) REFERENCES PROPUESTAPROV(ID) ON DELETE CASCADE
''FIN DE LA TABLA NOTASPROP

''TABLA NUMERADORES
''Estructura
CREATE TABLE NUMERADORES 
		(TABLA CHAR(25),
		NOMBRE CHAR(30),
		CONFIGURAR BOOLEAN,
		NUMERO INTEGER DEFAULT 0,
		PRIMARY KEY(TABLA))
''Claves Foraneas
''FIN DE LA TABLA NUMERADORES

''TABLA OFERTAS
''Estructura
CREATE TABLE OFERTAS 
		(ID INTEGER DEFAULT 0,
		IDCLIENTE CHAR(6),
		IDFP INTEGER,
		IDDIVISA INTEGER,
		VALORDIVISA INTEGER DEFAULT 0,
		IDOPERARIO CHAR(6),
		FECHAOFERTA DATE,
		DTO FIXED(6,3) DEFAULT 0.000,
		NOTAS CHAR(200),
		BASE FIXED(15,3) DEFAULT 0.000,
		RECARGO FIXED(15,3) DEFAULT 0.000,
		IVA FIXED(15,3) DEFAULT 0.000,
		TOTAL FIXED(15,3) DEFAULT 0.000,
		PRIMARY KEY(ID))
''Claves Foraneas
ALTER TABLE OFERTAS ADD FOREIGN KEY CONDICIONESPAGOOF (IDFP) REFERENCES CONDICIONESPAGO(ID) ON DELETE RESTRICT
ALTER TABLE OFERTAS ADD FOREIGN KEY DIVISASOFERTAS (IDDIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
''FIN DE LA TABLA OFERTAS

''TABLA OFS
''Estructura
CREATE TABLE OFS 
		(ID INTEGER,
		ORIGEN CHAR(2),
		IDORIGEN CHAR(20),
		IDPROD CHAR(11),
		CANTIDAD INTEGER DEFAULT 1,
		CANTFIN INTEGER DEFAULT 0,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA OFS

''TABLA OFSVER
''Estructura
CREATE TABLE OFSVER 
		(ID INTEGER,
		VER INTEGER,
		ESTADO CHAR(2),
		FECHAVEH DATE,
		FECHASOL DATE,
		FECHACOM DATE,
		FECHAULT DATE,
		FECHAINI DATE,
		DIAS INTEGER DEFAULT 0,
		FECHAOF DATE,
		HORA CHAR(5),
		USUARIO CHAR(20),
		FECHACREACION DATE,
		NOTAS CHAR(400),
		VALRUTA CHAR(1),
		PRIMARY KEY(ID,VER))
''Claves Foraneas
''FIN DE LA TABLA OFSVER



''TABLA PATCHES
''Estructura
CREATE TABLE PATCHES 
		(ID CHAR(8),
		FECHA DATE,
		HORA TIME,
		USUARIO CHAR(15),
		TERMINAL CHAR(15),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA PATCHES

''TABLA PROPGANTT
''Estructura
CREATE TABLE PROPGANTT 
		(USUARIO CHAR(14),
		DISTANCIAGANTT FIXED(10,2),
		CAMPOSVISIBLES CHAR(300),
		MSFGBACKCOLORBKG INTEGER DEFAULT 8421504,
		MSFGBACKCOLOR INTEGER DEFAULT 8421504,
		MSFGBACKCOLORFIXED INTEGER DEFAULT 8421504,
		MSFGFORECOLOR INTEGER DEFAULT 8421504,
		MSFGTIPOLETRA CHAR(255),
		BCKCOLORGANTT INTEGER DEFAULT 16777215,
		COLORLINHORA INTEGER DEFAULT 255,
		COLORLINCUADR INTEGER DEFAULT 8421504,
		PINTARLINEAS INTEGER DEFAULT 3,
		TIPOESCALA INTEGER DEFAULT 0,
		BCKCOLORESCALA INTEGER DEFAULT 8421504
		)
''Claves Foraneas
''FIN DE LA TABLA PROPGANTT

''TABLA PROVEEDORESCOMERCI
''Estructura
CREATE TABLE PROVEEDORESCOMERCI 
		(IDPROVEEDOR INTEGER,
		IDCOMERCIAL INTEGER,
		AREA CHAR(20)
		)
''Claves Foraneas
''FIN DE LA TABLA PROVEEDORESCOMERCI

''TABLA PRUEBA
''Estructura
CREATE TABLE PRUEBA 
		(ID CHAR(6),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA PRUEBA




''TABLA RECIBOSCLI
''Estructura
CREATE TABLE RECIBOSCLI 
		(ID INTEGER,
		FECHA DATE,
		FECHAVENCIMIENTO DATE,
		CONCEPTO CHAR(100),
		COBRO CHAR(15),
		CC INTEGER,
		GRUPO INTEGER,
		IDCLIENTE INTEGER,
		TOTAL FIXED(18,6),
		ESTADO INTEGER DEFAULT 1,
		IDFACTURA INTEGER,
		IDUBICACION INTEGER DEFAULT 0,
		IDDIVISA INTEGER,
		IDEMPRESA INTEGER DEFAULT 1,
		IDINSTRUMPAGO INTEGER DEFAULT 0,
		PRIMARY KEY(ID,IDEMPRESA))
''Claves Foraneas
ALTER TABLE RECIBOSCLI ADD FOREIGN KEY DIVISASRECIBOSCLI (IDDIVISA) REFERENCES DIVISAS(ID) ON DELETE RESTRICT
ALTER TABLE RECIBOSCLI ADD FOREIGN KEY EMPRESARECIBOSCLI (IDEMPRESA) REFERENCES EMPRESA(ID) ON DELETE CASCADE
ALTER TABLE RECIBOSCLI ADD FOREIGN KEY INSTRUMPAGORECIB (IDINSTRUMPAGO) REFERENCES INSTRUMPAGO(ID) ON DELETE RESTRICT
''FIN DE LA TABLA RECIBOSCLI

''TABLA REPORTS
''Estructura
CREATE TABLE REPORTS 
		(ID INTEGER,
		NOMBRE CHAR(50),
		DESCRIPCION CHAR(50),
		TIPO INTEGER,
		SQL CHAR(500),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA REPORTS

''TABLA REPORTTYPE
''Estructura
CREATE TABLE REPORTTYPE 
		(ID INTEGER,
		NOMBRE CHAR(50),
		ALIAS CHAR(15),
		ALLOWMULTIPLE BOOLEAN DEFAULT TRUE,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA REPORTTYPE

''TABLA RUTAFASE
''Estructura
CREATE TABLE RUTAFASE 
		(IDLINEA CHAR(2),
		IDFASE CHAR(10),
		IDOF INTEGER,
		VER INTEGER,
		NOMBRE CHAR(50),
		CHEQUEADO CHAR(1),
		ORIGINAL CHAR(1),
		PRIMARY KEY(IDLINEA,IDFASE,IDOF,VER))
''Claves Foraneas
''FIN DE LA TABLA RUTAFASE

''TABLA RUTAOPERACIONFASE
''Estructura
CREATE TABLE RUTAOPERACIONFASE 
		(IDLINEA CHAR(2),
		IDFASE CHAR(10),
		IDSUBFASE CHAR(10),
		IDOPERACION CHAR(10),
		IDOF INTEGER,
		VER INTEGER,
		NOMBRE CHAR(50),
		CHEQUEADO CHAR(1),
		ORIGINAL CHAR(1),
		REALIZADA CHAR(1) DEFAULT '0',
		VALOR INTEGER,
		PRIMARY KEY(IDLINEA,IDFASE,IDSUBFASE,IDOPERACION,IDOF,VER))
''Claves Foraneas
''FIN DE LA TABLA RUTAOPERACIONFASE

''TABLA RUTASUBFASE
''Estructura
CREATE TABLE RUTASUBFASE 
		(IDLINEA CHAR(2),
		IDFASE CHAR(10),
		IDSUBFASE CHAR(10),
		IDOF INTEGER,
		VER INTEGER,
		NOMBRE CHAR(50),
		IDSIMULT CHAR(1),
		DIASSIGFASE INTEGER DEFAULT 0,
		EXTERNO CHAR(1),
		HORASMOD FIXED(6,2) DEFAULT 0.00,
		CENTRO1 CHAR(6),
		CENTRO2 CHAR(6),
		TIPOMOD CHAR(6),
		DOTACION FIXED(6,2) DEFAULT 0.00,
		CHEQUEADO CHAR(1),
		ORIGINAL CHAR(1),
		HORASACUM FIXED(6,2) DEFAULT 0.00,
		CAUSA CHAR(100),
		PRIMARY KEY(IDLINEA,IDFASE,IDSUBFASE,IDOF,VER))
''Claves Foraneas
''FIN DE LA TABLA RUTASUBFASE

''TABLA SEACABADO
''Estructura
''CREATE TABLE SEACABADO 
''		(ID CHAR(20),
''		IDSE CHAR(15),
''		IDLINEA CHAR(2),
''		LITERAL CHAR(60),
''		FECHAMOD DATE,
''		USUARIO CHAR(20),
''		VARDOM CHAR(10),
''		ROT FIXED(8,3) DEFAULT 0.000,
''		CAPACIDAD FIXED(10,2) DEFAULT 0.00,
''		COMPARTIMENTOS INTEGER DEFAULT 0,
''		ROMPEOLAS INTEGER DEFAULT 0,
''		VAFINAL FIXED(8,3) DEFAULT 0.000,
''		PVP FIXED(18,6) DEFAULT 0.000000,
''		IMPMAT FIXED(18,6) DEFAULT 0.000000,
''		IMPMOD FIXED(18,6) DEFAULT 0.000000,
''		PVPIMP FIXED(18,6) DEFAULT 0.000000,
''		PRIMARY KEY(ID,IDSE,IDLINEA))
''Claves Foraneas
''ALTER TABLE SEACABADO ADD FOREIGN KEY F1 (IDLINEA,IDSE) REFERENCES SEMIELABORADOS(IDLINEA,ID) ON DELETE CASCADE
''FIN DE LA TABLA SEACABADO



''TABLA SEFASE
''Estructura
''CREATE TABLE SEFASE 
''		(IDSE CHAR(15),
''		IDLINEA CHAR(2),
''		IDFASE CHAR(10),
''		NOMBRE CHAR(50),
''		PRIMARY KEY(IDSE,IDLINEA,IDFASE))
''Claves Foraneas
''ALTER TABLE SEFASE ADD FOREIGN KEY F1 (IDLINEA,IDSE) REFERENCES SEMIELABORADOS(IDLINEA,ID) ON DELETE CASCADE
''FIN DE LA TABLA SEFASE

''TABLA SESUBFASE
''Estructura
''CREATE TABLE SESUBFASE 
''		(IDSE CHAR(15),
''		IDLINEA CHAR(2),
''		IDFASE CHAR(10),
''		IDSUBFASE CHAR(10),
''		NOMBRE CHAR(50),
''		IDSIMULT CHAR(1),
''		DIASSIGFASE INTEGER DEFAULT 0,
''		EXTERNO CHAR(1),
''		HORASMOD FIXED(6,2) DEFAULT 0.00,
''		CENTRO1 CHAR(6),
''		CENTRO2 CHAR(6),
''		TIPOMOD CHAR(6),
''		DOTACION FIXED(6,2) DEFAULT 0.00,
''		MODCALC CHAR(1),
''		CAPMAX INTEGER,
''		CAPMIN INTEGER,
''		HORASMAX FIXED(6,2),
''		HORASMIN FIXED(6,2),
''		PRIMARY KEY(IDSE,IDLINEA,IDFASE,IDSUBFASE))
''Claves Foraneas
''ALTER TABLE SESUBFASE ADD FOREIGN KEY F1 (IDLINEA,IDFASE,IDSE) REFERENCES SEFASE(IDLINEA,IDFASE,IDSE) ON DELETE CASCADE
''FIN DE LA TABLA SESUBFASE

''TABLA SEOPERACIONFASE
''Estructura
''CREATE TABLE SEOPERACIONFASE 
''		(IDSE CHAR(15),
''		IDLINEA CHAR(2),
''		IDFASE CHAR(10),
''		IDSUBFASE CHAR(10),
''		IDOPERACION CHAR(10),
''		NOMBRE CHAR(50),
''		PRIMARY KEY(IDSE,IDLINEA,IDFASE,IDSUBFASE,IDOPERACION))
''Claves Foraneas
''ALTER TABLE SEOPERACIONFASE ADD FOREIGN KEY F1 (IDLINEA,IDFASE,IDSUBFASE,IDSE) REFERENCES SESUBFASE(IDLINEA,IDFASE,IDSUBFASE,IDSE) ON DELETE CASCADE
''FIN DE LA TABLA SEOPERACIONFASE

''TABLA STOCKS
''Estructura
CREATE TABLE STOCKS 
		(PLANTA INTEGER,
		ALMACEN INTEGER,
		UBICACION INTEGER,
		ARTICULO INTEGER,
		STOCK FIXED(10,2) DEFAULT 0.00,
		PRIMARY KEY(PLANTA,ALMACEN,UBICACION,ARTICULO))
''Claves Foraneas
ALTER TABLE STOCKS ADD FOREIGN KEY STOCKUBI (PLANTA,ALMACEN,UBICACION) REFERENCES UBICACIONES (PLANTA,ALMACEN,ID) ON DELETE CASCADE
ALTER TABLE STOCKS ADD FOREIGN KEY STOCKART (ARTICULO) REFERENCES ARTICULOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA STOCKS

''TABLA TARIFASTRANSPORTE
''Estructura
CREATE TABLE TARIFASTRANSPORTE 
		(ID INTEGER,
		NOMBRE CHAR(15),
		IMPORTE FIXED(18,6),
		IDTRANSPORTISTA INTEGER,
		PRIMARY KEY(ID,IDTRANSPORTISTA))
''Claves Foraneas
''FIN DE LA TABLA TARIFASTRANSPORTE

''TABLA TIEMPOS
''Estructura
CREATE TABLE TIEMPOS 
		(ID INTEGER,
		IDOF CHAR(10),
		VER INTEGER,
		IDFASE CHAR(10),
		IDSUBFASE CHAR(10),
		HORAS FIXED(6,2) DEFAULT 0.00,
		OPERARIO CHAR(6),
		FECHA DATE,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA TIEMPOS

''TABLA TIPOLOC
''Estructura
CREATE TABLE TIPOLOC 
		(ID INTEGER,
		NOMBRE CHAR(25),
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA TIPOLOC

''TABLA TIPOPROV
''Estructura
CREATE TABLE TIPOPROV 
		(ID CHAR(6),
		NOMBRE CHAR(50),
		MUESTREO FIXED(8,3) DEFAULT 0.000,
		PRIMARY KEY(ID))
''Claves Foraneas
''FIN DE LA TABLA TIPOPROV

''TABLA TMPDETPA
''Estructura
CREATE TABLE TMPDETPA 
		(ID CHAR(11),
		IDCOMPO CHAR(6),
		IDCOMBI CHAR(6),
		CANT FIXED(12,2),
		UNIDAD CHAR(10),
		LITERAL CHAR(40),
		FAMILIA CHAR(6),
		SFAMILIA CHAR(6),
		IDARTICULO CHAR(15),
		DESCRIPCION CHAR(40),
		ESPESOR FIXED(10,2),
		LONGI FIXED(12,2),
		ANCHO FIXED(12,2),
		CANTUNI FIXED(8,3),
		PRIORIDAD INTEGER,
		SEC INTEGER,
		NETBIOS CHAR(20),
		IMPMP FIXED(18,6) DEFAULT 0.000000,
		IMPORTEMOD FIXED(18,6) DEFAULT 0.000000,
		PRIMARY KEY(ID,IDCOMPO,IDCOMBI,IDARTICULO,SEC,NETBIOS))
''Claves Foraneas
''FIN DE LA TABLA TMPDETPA

''TABLA TMPESTRUCTURAOF
''Estructura
CREATE TABLE TMPESTRUCTURAOF 
		(NETBIOS CHAR(20),
		VER INTEGER,
		IDCOMPO CHAR(6),
		NOMCOMPO CHAR(40),
		IDCOMBI CHAR(6),
		NOMCOMBI CHAR(40),
		IDMATERIAL CHAR(15),
		NOMMAT CHAR(40),
		CANTCOMBI INTEGER DEFAULT 0,
		CANTMP FIXED(12,2) DEFAULT 0.00,
		A FIXED(12,2),
		L FIXED(12,2),
		SEC INTEGER DEFAULT 1,
		MOD FIXED(10,2) DEFAULT 0.00,
		TIPOMAT CHAR(2),
		PRIOCOMPO INTEGER,
		PRIOMAT INTEGER,
		CANTMAT FIXED(8,3),
		PRECIOMAT FIXED(10,2),
		TIPOCOM CHAR(3),
		COMPOORI CHAR(1),
		COMBIORI CHAR(1),
		MATORI CHAR(1),
		ALMORI CHAR(6),
		ALMDEST CHAR(6),
		UBIORI CHAR(6),
		UBIDEST CHAR(6),
		SERVIDO CHAR(1) DEFAULT '0',
		INCORPORADO CHAR(1) DEFAULT '0',
		ID INTEGER,
		PRIMARY KEY(NETBIOS,VER,IDCOMPO,IDCOMBI,IDMATERIAL,SEC,ID))
''Claves Foraneas
''FIN DE LA TABLA TMPESTRUCTURAOF

''TABLA TMPIDLOC
''Estructura
CREATE TABLE TMPIDLOC 
		(IDLOCALIZACION INTEGER,
		IDREF INTEGER,
		IDTIPOLOC INTEGER,
		PRIMARY KEY(IDLOCALIZACION,IDREF,IDTIPOLOC))
''Claves Foraneas
''FIN DE LA TABLA TMPIDLOC

''TABLA TMPINV
''Estructura
CREATE TABLE TMPINV 
		(ID INTEGER,
		IDART CHAR(15),
		IDALM CHAR(6),
		CANTINI FIXED(10,2),
		ENTRADAS FIXED(10,2),
		SALIDAS FIXED(10,2),
		CANTFINAL FIXED(10,2),
		IMPORTE FIXED(18,6),
		IDFAM CHAR(6),
		IDSUBFAM CHAR(6),
		NOMFAM CHAR(60),
		NOMSUBFAM CHAR(60),
		PRIMARY KEY(ID,IDART,IDALM))
''Claves Foraneas
''FIN DE LA TABLA TMPINV

''TABLA TMPINVINC
''Estructura
CREATE TABLE TMPINVINC 
		(ID INTEGER,
		IDART CHAR(15),
		IDALM CHAR(6),
		CANTINI FIXED(10,2),
		AVANCES FIXED(10,2),
		DESCARGAS FIXED(10,2),
		DESCONOF FIXED(10,2),
		CANTFINAL FIXED(10,2),
		IMPORTE FIXED(18,6),
		IDFAM CHAR(6),
		IDSUBFAM CHAR(6),
		NOMFAM CHAR(60),
		NOMSUBFAM CHAR(60),
		PRIMARY KEY(ID,IDART,IDALM))
''Claves Foraneas
''FIN DE LA TABLA TMPINVINC

''TABLA TMPINVNOINC
''Estructura
CREATE TABLE TMPINVNOINC 
		(ID INTEGER,
		IDART CHAR(15),
		IDALM CHAR(6),
		CANTINI FIXED(10,2),
		ENTRADAS FIXED(10,2),
		SALIDAS FIXED(10,2),
		CANTFINAL FIXED(10,2),
		IMPORTE FIXED(18,6),
		IDFAM CHAR(6),
		IDSUBFAM CHAR(6),
		NOMFAM CHAR(60),
		NOMSUBFAM CHAR(60),
		PRIMARY KEY(ID,IDART,IDALM))
''Claves Foraneas
''FIN DE LA TABLA TMPINVNOINC

''TABLA TMPPA
''Estructura
CREATE TABLE TMPPA 
		(ID CHAR(11),
		IDCOMPO CHAR(6),
		IDCOMBI CHAR(6),
		NOMBRECOMPO CHAR(40),
		NOMBRECOMBI CHAR(40),
		CANT INTEGER,
		HORASMOD FIXED(10,2),
		TIPOMOD CHAR(20),
		PRIORIDAD INTEGER,
		NETBIOS CHAR(20),
		PRECIOHORA FIXED(18,6) DEFAULT 0.000000,
		PRIMARY KEY(ID,IDCOMPO,IDCOMBI,NETBIOS))
''Claves Foraneas
''FIN DE LA TABLA TMPPA



''TABLA TMPRUTAFASE
''Estructura
CREATE TABLE TMPRUTAFASE 
		(NETBIOS CHAR(20),
		IDLINEA CHAR(2),
		IDFASE CHAR(10),
		IDOF INTEGER,
		VER INTEGER,
		NOMBRE CHAR(50),
		ORIGINAL CHAR(1),
		PRIMARY KEY(NETBIOS,IDLINEA,IDFASE,IDOF,VER))
''Claves Foraneas
''FIN DE LA TABLA TMPRUTAFASE

''TABLA TMPRUTAOPERACIONFA
''Estructura
CREATE TABLE TMPRUTAOPERACIONFA 
		(NETBIOS CHAR(20),
		IDLINEA CHAR(2),
		IDFASE CHAR(10),
		IDSUBFASE CHAR(10),
		IDOPERACION CHAR(10),
		IDOF INTEGER,
		VER INTEGER,
		NOMBRE CHAR(50),
		ORIGINAL CHAR(1),
		REALIZADA CHAR(1) DEFAULT '0',
		VALOR INTEGER,
		PRIMARY KEY(NETBIOS,IDLINEA,IDFASE,IDSUBFASE,IDOPERACION,IDOF,VER))
''Claves Foraneas
''FIN DE LA TABLA TMPRUTAOPERACIONFA

''TABLA TMPRUTASUBFASE
''Estructura
CREATE TABLE TMPRUTASUBFASE 
		(NETBIOS CHAR(20),
		IDLINEA CHAR(2),
		IDFASE CHAR(10),
		IDSUBFASE CHAR(10),
		IDOF INTEGER,
		VER INTEGER,
		NOMBRE CHAR(50),
		IDSIMULT CHAR(1),
		DIASSIGFASE INTEGER DEFAULT 0,
		EXTERNO CHAR(1),
		HORASMOD FIXED(6,2) DEFAULT 0.00,
		CENTRO1 CHAR(6),
		CENTRO2 CHAR(6),
		TIPOMOD CHAR(6),
		DOTACION FIXED(6,2) DEFAULT 0.00,
		ORIGINAL CHAR(1),
		HORASACUM FIXED(6,2) DEFAULT 0.00,
		PRIMARY KEY(NETBIOS,IDLINEA,IDFASE,IDSUBFASE,IDOF,VER))
''Claves Foraneas
''FIN DE LA TABLA TMPRUTASUBFASE

''TABLA TMPSEPA
''Estructura
CREATE TABLE TMPSEPA 
		(ID CHAR(11),
		IDSE CHAR(15),
		IDMP CHAR(15),
		LITERAL CHAR(40),
		CANT FIXED(8,3) DEFAULT 0.000,
		L FIXED(8,3) DEFAULT 0.000,
		A FIXED(8,3) DEFAULT 0.000,
		SEC INTEGER DEFAULT 1,
		NETBIOS CHAR(20),
		PRECIO FIXED(18,6) DEFAULT 0.000000,
		IDCOMBI CHAR(6),
		IDCOMPO CHAR(6),
		PRIMARY KEY(ID,IDSE,IDMP,SEC,NETBIOS))
''Claves Foraneas
''FIN DE LA TABLA TMPSEPA

''TABLA TMPTIEMPOS
''Estructura
CREATE TABLE TMPTIEMPOS 
		(NETBIOS CHAR(25),
		IDOF CHAR(10),
		IDFASE CHAR(10),
		IDSUBFASE CHAR(10),
		HORAS FIXED(6,2) DEFAULT 0.00,
		OPERARIO CHAR(6),
		FECHA DATE,
		VER INTEGER,
		PRIMARY KEY(NETBIOS,IDOF,IDFASE,IDSUBFASE))
''Claves Foraneas
''FIN DE LA TABLA TMPTIEMPOS

''TABLA TURNOS
''Estructura
CREATE TABLE TURNOS 
		(IDCALENDARIO INTEGER,
		DIASEMANA INTEGER DEFAULT 0,
		HORAINICIO TIME,
		HORAFINAL TIME
		)
''Claves Foraneas
ALTER TABLE TURNOS ADD FOREIGN KEY CF1 (IDCALENDARIO) REFERENCES CALENDARIOS(ID) ON DELETE CASCADE
''FIN DE LA TABLA TURNOS

''TABLA VAMAT
''Estructura
CREATE TABLE VAMAT 
		(DESDE FIXED(10,2),
		HASTA FIXED(10,2),
		VA FIXED(8,3),
		PRIMARY KEY(DESDE,HASTA))
''Claves Foraneas
''FIN DE LA TABLA VAMAT



''TABLA VENCPAGO
''Estructura
CREATE TABLE VENCPAGO 
		(IDCPAGO INTEGER,
		DIAS INTEGER,
		PORCENTAJE FIXED(6,2),
		RECARGO FIXED(6,2),
		IDMEDIOPAGO INTEGER DEFAULT 0,
		PRIMARY KEY(IDCPAGO,DIAS))
''Claves Foraneas
ALTER TABLE VENCPAGO ADD FOREIGN KEY CONDICIONESPAGOVE (IDCPAGO) REFERENCES CONDICIONESPAGO(ID) ON DELETE CASCADE
''FIN DE LA TABLA VENCPAGO


 ''TABLA CONFCODIGOS
''Estructura
CREATE TABLE CONFCODIGOS
		(CLAVE CHAR(25) NOT NULL,
		TABLA CHAR(25) NOT NULL,
		PARAMETROS CHAR(100) DEFAULT 'FREE',
		PRIMARY KEY(TABLA))
''FIN DE LA TABLA CONFCODIGOS

''TABLA SQLWIZARD
CREATE TABLE SQLWIZARD (CLAVE CHAR(25) PRIMARY KEY,CAPTION CHAR(50),COLS CHAR(400) DEFAULT '',
			TABLES CHAR(200) DEFAULT '',JOINS CHAR(400) DEFAULT '',ORDERBY CHAR(100) DEFAULT '')
''FIN TABLA SQLWIZARD
''Datos de prueba



''Vistas
''VISTA vCOMPOCOMBI
CREATE OR REPLACE VIEW vCOMPOCOMBI (LINEA,COMPONENTE,
	CODCOMPO,NOMCOMPO,PRIOCOMPO,COMBINACION,CODCOMBI,NOMCOMBI,PRIOCOMBI,TIPO) AS
	SELECT 
		CP.LINEA,
		CP.ID,
		CP.CODIGO,
		CP.NOMBRE,
		CP.PRIORIDAD,
		CB.ID,
		CB.CODIGO,
		CB.NOMBRE,
		CB.PRIORIDAD,
		CP.TIPOCOMPO 
	FROM 
		COMPOCOMBI CC,
		COMPONENTES CP,
		COMBINACIONES CB 
	WHERE 
		CC.COMPONENTE (+) = CP.ID AND 
		CB.ID (+)= CC.COMBINACION
''FIN VISTA vCOMPOCOMBI

''Vistas de Stock
CREATE OR REPLACE VIEW VSTOCKDISP AS 
	SELECT PLANTA,ALMACEN,UBICACION,ARTICULO,STOCK FROM STOCKS 
	WHERE ALMACEN > 0 AND UBICACION > 0 

CREATE OR REPLACE VIEW VSTOCKRET AS 
	SELECT PLANTA,ALMACEN,UBICACION,ARTICULO,STOCK FROM STOCKS 
	WHERE ALMACEN = 0 AND UBICACION = 1 

CREATE OR REPLACE VIEW VSTOCKRECH AS 
	SELECT PLANTA,ALMACEN,UBICACION,ARTICULO,STOCK FROM STOCKS 
	WHERE ALMACEN = 0 AND UBICACION = 2 

CREATE OR REPLACE VIEW VSTOCKDEV AS 
	SELECT PLANTA,ALMACEN,UBICACION,ARTICULO,STOCK FROM STOCKS 
	WHERE ALMACEN = 0 AND UBICACION = 3

CREATE OR REPLACE VIEW VSTOCKINC AS 
	SELECT PLANTA,ALMACEN,UBICACION,ARTICULO,STOCK FROM STOCKS 
	WHERE UBICACION = -1 

CREATE OR REPLACE VIEW VSTOCKSERV AS 
	SELECT PLANTA,ALMACEN,UBICACION,ARTICULO,STOCK FROM STOCKS 
	WHERE UBICACION = -2 

''Clases cargadas
INSERT INTO CLASSES VALUES(1,'PRODUCCION','Produccion.cProduccion',NULL,'Librer√≠a de Producci√≥n',NULL,'1.0.0',TRUE,FALSE,'Produccion.dll')
INSERT INTO CLASSES VALUES(2,'LOGISTICA','Logistica.cLogistica',NULL,'Librer√≠a de Log stica',NULL,'1.0.0',TRUE,FALSE,'Logistica.dll')
INSERT INTO CLASSES VALUES(3,'ADMINISTRACION','Administracion.cAdministracion',NULL,'Librer√≠a de Administraci√≥n',NULL,'1.0.0',TRUE,FALSE,'Admin.dll')
INSERT INTO CLASSES VALUES(4,'PRODUCCIONSTD','ProduccionSTD.cProduccionSTD',NULL,'Librer√≠a de Producci√≥n Standard',NULL,'1.0.0',TRUE,FALSE,'ProdStd.DLL')


